<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=https://gambitbsm.github.io/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://gambitbsm.github.io/fonts/vendor/jost/jost-v4-latin-500.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://gambitbsm.github.io/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><script>(()=>{var e=localStorage.getItem("theme");e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script><link rel=stylesheet href=https://gambitbsm.github.io/main.2b4f179ba5137bf560410d5863d012cb95c0a7504da18190247e40a43544a8252fba5dc321f967a611ca9a4d80dec44fabc75d108c7c0e4e8ed381ec007b7391.css integrity="sha512-K08Xm6UTe/VgQQ1YY9ASy5XAp1BNoYGQJH5ApDVEqCUvul3DIflnphHKmk2A3sRPq8ddEIx8Dk6O04HsAHtzkQ==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>file Models/model_macros.hpp - GAMBIT</title><meta name=description content="[No description available]"><link rel=canonical href=https://gambitbsm.github.io/documentation/code/files/model__macros_8hpp/><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="file Models/model_macros.hpp"><meta property="og:description" content="[No description available]"><meta property="og:url" content="https://gambitbsm.github.io/documentation/code/files/model__macros_8hpp/"><meta property="og:site_name" content="GAMBIT"><meta property="og:image" content="https://gambitbsm.github.io/gambit_logo.png"><meta property="og:image:alt" content="GAMBIT"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content><meta name=twitter:creator content><meta name=twitter:title content="file Models/model_macros.hpp"><meta name=twitter:description content="[No description available]"><meta name=twitter:image content="https://gambitbsm.github.io/gambit_logo.png"><meta name=twitter:image:alt content="file Models/model_macros.hpp"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://gambitbsm.github.io/#/schema/organization/1","name":"Doks","url":"https://gambitbsm.github.io/","sameAs":["https://github.com/GambitBSM"],"logo":{"@type":"ImageObject","@id":"https://gambitbsm.github.io/#/schema/image/1","url":"https://gambitbsm.github.io/logo-doks.png","width":450,"height":416,"caption":"Doks"},"image":{"@id":"https://gambitbsm.github.io/#/schema/image/1"}},{"@type":"WebSite","@id":"https://gambitbsm.github.io/#/schema/website/1","url":"https://gambitbsm.github.io/","name":"GAMBIT","description":"Documentation for the Global And Modular BSM Inference Tool","publisher":{"@id":"https://gambitbsm.github.io/#/schema/organization/1"}},{"@type":"WebPage","@id":"https://gambitbsm.github.io/documentation/code/files/model__macros_8hpp/","url":"https://gambitbsm.github.io/documentation/code/files/model__macros_8hpp/","name":"file Models\/model_macros.hpp","description":"[No description available]","isPartOf":{"@id":"https://gambitbsm.github.io/#/schema/website/1"},"about":{"@id":"https://gambitbsm.github.io/#/schema/organization/1"},"datePublished":"0001-01-01T00:00:00CET","dateModified":"0001-01-01T00:00:00CET","breadcrumb":{"@id":"https://gambitbsm.github.io/documentation/code/files/model__macros_8hpp/#/schema/breadcrumb/1"},"primaryImageOfPage":{"@id":"https://gambitbsm.github.io/documentation/code/files/model__macros_8hpp/#/schema/image/2"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://gambitbsm.github.io/documentation/code/files/model__macros_8hpp/"]}]},{"@type":"BreadcrumbList","@id":"https://gambitbsm.github.io/documentation/code/files/model__macros_8hpp/#/schema/breadcrumb/1","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"https://gambitbsm.github.io/","url":"https://gambitbsm.github.io/","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@type":"WebPage","@id":"https://gambitbsm.github.io/documentation/","url":"https://gambitbsm.github.io/documentation/","name":"Documentation"}},{"@type":"ListItem","position":3,"item":{"@type":"WebPage","@id":"https://gambitbsm.github.io/documentation/code/","url":"https://gambitbsm.github.io/documentation/code/","name":"Code"}},{"@type":"ListItem","position":4,"item":{"@type":"WebPage","@id":"https://gambitbsm.github.io/documentation/code/files/","url":"https://gambitbsm.github.io/documentation/code/files/","name":"Files"}},{"@type":"ListItem","position":5,"item":{"@id":"https://gambitbsm.github.io/documentation/code/files/model__macros_8hpp/"}}]},{"@context":"https://schema.org","@graph":[{"@type":"ImageObject","@id":"https://gambitbsm.github.io/documentation/code/files/model__macros_8hpp/#/schema/image/2","url":"https://gambitbsm.github.io/gambit_logo.png","contentUrl":"https://gambitbsm.github.io/gambit_logo.png","caption":"file Models\/model_macros.hpp"}]}]}</script><meta name=theme-color content="#fff"><link rel=icon href=https://gambitbsm.github.io/favicon.ico sizes=any><link rel=icon type=image/svg+xml href=https://gambitbsm.github.io/favicon.svg><link rel=apple-touch-icon sizes=180x180 href=https://gambitbsm.github.io/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://gambitbsm.github.io/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://gambitbsm.github.io/favicon-16x16.png><link rel=manifest crossorigin=use-credentials href=https://gambitbsm.github.io/site.webmanifest></head><body class="documentation single light"><div class=sticky-top><div class=header-bar></div><header class="navbar navbar-expand-md navbar-light doks-navbar"><nav class="container-xxl flex-wrap flex-md-nowrap" aria-label="Main navigation"><a class="navbar-brand p-0 me-auto" href=https://gambitbsm.github.io/ aria-label=GAMBIT><img class=logo-light src=https://gambitbsm.github.io//images/gambit_logo.png width=50px>
<img class="logo-dark d-none" src=https://gambitbsm.github.io//images/gambit_logo.png width=50px>
GAMBIT</a>
<button class="btn btn-menu order-2 d-block d-lg-none" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasDoks aria-controls=offcanvasDoks aria-label="Open main menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button><div class="offcanvas offcanvas-end border-0 py-lg-1" tabindex=-1 id=offcanvasDoks data-bs-backdrop=true aria-labelledby=offcanvasDoksLabel><div class="header-bar d-lg-none"></div><div class="offcanvas-header d-lg-none"><h2 class="h5 offcanvas-title ps-2" id=offcanvasDoksLabel><a class=text-dark href=/>GAMBIT</a></h2><button type=button class="btn-close text-reset me-2" data-bs-dismiss=offcanvas aria-label="Close main menu"></button></div><div class="offcanvas-body p-4 p-lg-0"><ul class="nav flex-column flex-lg-row align-items-lg-center mt-2 mt-lg-0 ms-lg-2 me-lg-auto"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle ps-0 py-1" href=# id=navbarDropdownMenuLink role=button data-bs-toggle=dropdown aria-expanded=false>Releases
<span class=dropdown-caret><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"/></svg></span></a><ul class="dropdown-menu dropdown-menu-main shadow rounded border-0" aria-labelledby=navbarDropdownMenuLink><li><a class=dropdown-item href=https://github.com/GambitBSM/gambit_2.2>GAMBIT 2-2 ⧉</a></li><li><a class=dropdown-item href=https://github.com/GambitBSM/gambit_2.1>GAMBIT 2-1 ⧉</a></li><li><a class=dropdown-item href=https://github.com/GambitBSM/gambit_2.2/tags>All releases ⧉</a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle ps-0 py-1" href=# id=navbarDropdownMenuLink role=button data-bs-toggle=dropdown aria-expanded=false>Documentation
<span class=dropdown-caret><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"/></svg></span></a><ul class="dropdown-menu dropdown-menu-main shadow rounded border-0" aria-labelledby=navbarDropdownMenuLink><li><a class=dropdown-item href=/documentation/installation/introduction/>Installation</a></li><li><a class=dropdown-item href=/documentation/examples/colliderbit_example>Examples</a></li><li><a class=dropdown-item href=/documentation/help/common_problems_and_questions/>Help</a></li><li><a class=dropdown-item href=/documentation/code/index_classes>Code Reference</a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle ps-0 py-1" href=# id=navbarDropdownMenuLink role=button data-bs-toggle=dropdown aria-expanded=false>Community
<span class=dropdown-caret><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"/></svg></span></a><ul class="dropdown-menu dropdown-menu-main shadow rounded border-0" aria-labelledby=navbarDropdownMenuLink><li><a class=dropdown-item href=/community/publications/>Publications</a></li><li><a class=dropdown-item href=/community/talks/>Talks</a></li><li><a class=dropdown-item href=/community/members/>Members</a></li><li><a class="dropdown-item active" href=/community/code_of_conduct/ aria-current=true>Code of Conduct</a></li><li><a class=dropdown-item href=/community/contact/>Contact</a></li></ul></li></ul><hr class="text-black-50 my-4 d-lg-none"><form class="doks-search position-relative flex-grow-1 ms-lg-auto me-lg-2"><input id=search class="form-control is-search" type=search placeholder="Search site..." aria-label="Search site..." autocomplete=off><div id=suggestions class="shadow bg-white rounded d-none"></div></form><hr class="text-black-50 my-4 d-lg-none"><ul class="nav flex-column flex-lg-row"><li class=nav-item><a class="nav-link social-link" href=https://github.com/GambitBSM><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><small class="ms-2 d-lg-none">GitHub</small></a></li></ul><hr class="text-black-50 my-4 d-lg-none"><button id=mode class="btn btn-link" type=button aria-label="Toggle user interface mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button></div></div></nav></header></div><div class="wrap container-xxl" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar"><nav class=docs-links aria-label="Main navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-installation aria-expanded=false>
Installation</button><div class=collapse id=section-installation><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/documentation/installation/introduction/>Getting Started</a></li><li><a class="docs-link rounded" href=/documentation/installation/docker_usage/>Docker Usage</a></li><li><a class="docs-link rounded" href=/documentation/installation/installation_for_linux/>Installation for Linux</a></li><li><a class="docs-link rounded" href=/documentation/installation/installation_for_windows/>Installation for Windows</a></li><li><a class="docs-link rounded" href=/documentation/installation/installation_for_macos/>Installation for macOS</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-examples aria-expanded=false>
Examples</button><div class=collapse id=section-examples><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/documentation/examples/colliderbit_example/>ColliderBit Example</a></li><li><a class="docs-link rounded" href=/documentation/examples/anotherbit/>AnotherBit</a></li><li><a class="docs-link rounded" href=/documentation/examples/anotherbit2/>AnotherBit2</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-help aria-expanded=false>
Help</button><div class=collapse id=section-help><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/documentation/help/common_problems_and_questions/>Common Problems and Questions</a></li><li><a class="docs-link rounded" href=/documentation/help/compiler_matrix/>Compiler Matrix</a></li><li><a class="docs-link rounded" href=/documentation/help/known_issues/>Known Issues</a></li><li><a class="docs-link rounded" href=/documentation/help/configuration_examples/>Configuration Examples</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-code aria-expanded=false>
Code Reference</button><div class=collapse id=section-code><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/documentation/code/index_classes/>Classes</a></li><li><a class="docs-link rounded" href=/documentation/code/index_files/>Files</a></li><li><a class="docs-link rounded" href=/documentation/code/index_pages/>Pages</a></li><li><a class="docs-link rounded" href=/documentation/code/index_namespaces/>Namespaces</a></li></ul></div></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=d-xl-none><button class="btn btn-outline-primary btn-sm doks-toc-toggle collapsed" type=button data-bs-toggle=collapse data-bs-target=#onThisPage aria-controls=doks-docs-nav aria-expanded=false aria-label="Toggle On this page navigation">
<span>On this page</span>
<span><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"/><polyline points="7 6 12 11 17 6"/></svg><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"/><polyline points="17 18 12 13 7 18"/></svg></span></button><div class=collapse id=onThisPage><div class="card card-body mt-3 py-1"><div class=page-links><nav id=TableOfContents><ul><li><a href=#defines>Defines</a></li><li><a href=#detailed-description>Detailed Description</a></li><li><a href=#macros-documentation>Macros Documentation</a><ul><li><a href=#define-core-definepars>define CORE_DEFINEPARS</a></li><li><a href=#define-do-link>define DO_LINK</a></li><li><a href=#define-interpret-as-parent-dependency>define INTERPRET_AS_PARENT_DEPENDENCY</a></li><li><a href=#define-core-interpret-as-parent-function>define CORE_INTERPRET_AS_PARENT_FUNCTION</a></li><li><a href=#define-make-primary-model-functor-main>define MAKE_PRIMARY_MODEL_FUNCTOR_MAIN</a></li><li><a href=#define-make-primary-model-functor-supp>define MAKE_PRIMARY_MODEL_FUNCTOR_SUPP</a></li><li><a href=#define-start-model>define START_MODEL</a></li><li><a href=#define-definepars>define DEFINEPARS</a></li><li><a href=#define-map-to-capability>define MAP_TO_CAPABILITY</a></li><li><a href=#define-interpret-as-x-function>define INTERPRET_AS_X_FUNCTION</a></li><li><a href=#define-interpret-as-parent-function>define INTERPRET_AS_PARENT_FUNCTION</a></li><li><a href=#define-interpret-as-x-dependency>define INTERPRET_AS_X_DEPENDENCY</a></li><li><a href=#define-start-capability>define START_CAPABILITY</a></li><li><a href=#define-long-start-capability>define LONG_START_CAPABILITY</a></li><li><a href=#define-declare-function>define DECLARE_FUNCTION</a></li><li><a href=#define-long-declare-function>define LONG_DECLARE_FUNCTION</a></li><li><a href=#define-dependency>define DEPENDENCY</a></li><li><a href=#define-long-dependency>define LONG_DEPENDENCY</a></li><li><a href=#define-needs-manager>define NEEDS_MANAGER</a></li><li><a href=#define-allowed-model>define ALLOWED_MODEL</a></li><li><a href=#define-allowed-model-dependence>define ALLOWED_MODEL_DEPENDENCE</a></li><li><a href=#define-allow-model-combination>define ALLOW_MODEL_COMBINATION</a></li><li><a href=#define-model-group>define MODEL_GROUP</a></li><li><a href=#define-be-group>define BE_GROUP</a></li><li><a href=#define-declare-backend-req>define DECLARE_BACKEND_REQ</a></li><li><a href=#define-long-declare-backend-req>define LONG_DECLARE_BACKEND_REQ</a></li><li><a href=#define-activate-backend-req-for-models>define ACTIVATE_BACKEND_REQ_FOR_MODELS</a></li><li><a href=#define-start-conditional-dependency>define START_CONDITIONAL_DEPENDENCY</a></li><li><a href=#define-activate-dep-be>define ACTIVATE_DEP_BE</a></li><li><a href=#define-activate-for-models>define ACTIVATE_FOR_MODELS</a></li><li><a href=#define-model-conditional-dependency>define MODEL_CONDITIONAL_DEPENDENCY</a></li><li><a href=#define-backend-option>define BACKEND_OPTION</a></li><li><a href=#define-long-backend-option>define LONG_BACKEND_OPTION</a></li><li><a href=#define-force-same-backend>define FORCE_SAME_BACKEND</a></li><li><a href=#define-classload-needed>define CLASSLOAD_NEEDED</a></li><li><a href=#define-allow-models>define ALLOW_MODELS</a></li><li><a href=#define-make-primary-model-functor>define MAKE_PRIMARY_MODEL_FUNCTOR</a></li><li><a href=#define-module-start-model>define MODULE_START_MODEL</a></li><li><a href=#define-module-interpret-as-x-function>define MODULE_INTERPRET_AS_X_FUNCTION</a></li><li><a href=#define-module-interpret-as-x-dependency>define MODULE_INTERPRET_AS_X_DEPENDENCY</a></li><li><a href=#define-core-start-model>define CORE_START_MODEL</a></li><li><a href=#define-core-map-to-capability>define CORE_MAP_TO_CAPABILITY</a></li><li><a href=#define-definepar>define DEFINEPAR</a></li><li><a href=#define-core-interpret-as-x-function>define CORE_INTERPRET_AS_X_FUNCTION</a></li><li><a href=#define-interpret-as-x-function-full>define INTERPRET_AS_X_FUNCTION_FULL</a></li><li><a href=#define-core-interpret-as-x-dependency>define CORE_INTERPRET_AS_X_DEPENDENCY</a></li><li><a href=#define-model-namespace>define MODEL_NAMESPACE</a></li><li><a href=#define-use-model-pipe>define USE_MODEL_PIPE</a></li></ul></li><li><a href=#source-code>Source code</a></li></ul></nav></div></div></div></div><div class="page-links d-none d-xl-block"><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#defines>Defines</a></li><li><a href=#detailed-description>Detailed Description</a></li><li><a href=#macros-documentation>Macros Documentation</a><ul><li><a href=#define-core-definepars>define CORE_DEFINEPARS</a></li><li><a href=#define-do-link>define DO_LINK</a></li><li><a href=#define-interpret-as-parent-dependency>define INTERPRET_AS_PARENT_DEPENDENCY</a></li><li><a href=#define-core-interpret-as-parent-function>define CORE_INTERPRET_AS_PARENT_FUNCTION</a></li><li><a href=#define-make-primary-model-functor-main>define MAKE_PRIMARY_MODEL_FUNCTOR_MAIN</a></li><li><a href=#define-make-primary-model-functor-supp>define MAKE_PRIMARY_MODEL_FUNCTOR_SUPP</a></li><li><a href=#define-start-model>define START_MODEL</a></li><li><a href=#define-definepars>define DEFINEPARS</a></li><li><a href=#define-map-to-capability>define MAP_TO_CAPABILITY</a></li><li><a href=#define-interpret-as-x-function>define INTERPRET_AS_X_FUNCTION</a></li><li><a href=#define-interpret-as-parent-function>define INTERPRET_AS_PARENT_FUNCTION</a></li><li><a href=#define-interpret-as-x-dependency>define INTERPRET_AS_X_DEPENDENCY</a></li><li><a href=#define-start-capability>define START_CAPABILITY</a></li><li><a href=#define-long-start-capability>define LONG_START_CAPABILITY</a></li><li><a href=#define-declare-function>define DECLARE_FUNCTION</a></li><li><a href=#define-long-declare-function>define LONG_DECLARE_FUNCTION</a></li><li><a href=#define-dependency>define DEPENDENCY</a></li><li><a href=#define-long-dependency>define LONG_DEPENDENCY</a></li><li><a href=#define-needs-manager>define NEEDS_MANAGER</a></li><li><a href=#define-allowed-model>define ALLOWED_MODEL</a></li><li><a href=#define-allowed-model-dependence>define ALLOWED_MODEL_DEPENDENCE</a></li><li><a href=#define-allow-model-combination>define ALLOW_MODEL_COMBINATION</a></li><li><a href=#define-model-group>define MODEL_GROUP</a></li><li><a href=#define-be-group>define BE_GROUP</a></li><li><a href=#define-declare-backend-req>define DECLARE_BACKEND_REQ</a></li><li><a href=#define-long-declare-backend-req>define LONG_DECLARE_BACKEND_REQ</a></li><li><a href=#define-activate-backend-req-for-models>define ACTIVATE_BACKEND_REQ_FOR_MODELS</a></li><li><a href=#define-start-conditional-dependency>define START_CONDITIONAL_DEPENDENCY</a></li><li><a href=#define-activate-dep-be>define ACTIVATE_DEP_BE</a></li><li><a href=#define-activate-for-models>define ACTIVATE_FOR_MODELS</a></li><li><a href=#define-model-conditional-dependency>define MODEL_CONDITIONAL_DEPENDENCY</a></li><li><a href=#define-backend-option>define BACKEND_OPTION</a></li><li><a href=#define-long-backend-option>define LONG_BACKEND_OPTION</a></li><li><a href=#define-force-same-backend>define FORCE_SAME_BACKEND</a></li><li><a href=#define-classload-needed>define CLASSLOAD_NEEDED</a></li><li><a href=#define-allow-models>define ALLOW_MODELS</a></li><li><a href=#define-make-primary-model-functor>define MAKE_PRIMARY_MODEL_FUNCTOR</a></li><li><a href=#define-module-start-model>define MODULE_START_MODEL</a></li><li><a href=#define-module-interpret-as-x-function>define MODULE_INTERPRET_AS_X_FUNCTION</a></li><li><a href=#define-module-interpret-as-x-dependency>define MODULE_INTERPRET_AS_X_DEPENDENCY</a></li><li><a href=#define-core-start-model>define CORE_START_MODEL</a></li><li><a href=#define-core-map-to-capability>define CORE_MAP_TO_CAPABILITY</a></li><li><a href=#define-definepar>define DEFINEPAR</a></li><li><a href=#define-core-interpret-as-x-function>define CORE_INTERPRET_AS_X_FUNCTION</a></li><li><a href=#define-interpret-as-x-function-full>define INTERPRET_AS_X_FUNCTION_FULL</a></li><li><a href=#define-core-interpret-as-x-dependency>define CORE_INTERPRET_AS_X_DEPENDENCY</a></li><li><a href=#define-model-namespace>define MODEL_NAMESPACE</a></li><li><a href=#define-use-model-pipe>define USE_MODEL_PIPE</a></li></ul></li><li><a href=#source-code>Source code</a></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9 mx-xl-auto"><nav aria-label=breadcrumb><ol class=breadcrumb><li class=breadcrumb-item><a href=/>Home</a></li><li class=breadcrumb-item><a href=/documentation/>Documentation</a></li><li class=breadcrumb-item><a href=/documentation/code/>Code Reference</a></li><li class="breadcrumb-item active" aria-current=page>file Models/model_macros.hpp</li></ol></nav><p class=lead></p><h1 id=file-models-model-macros-hpp>file Models/model_macros.hpp</h1><p>[No description available] <a href=#detailed-description>More&mldr;</a></p><h2 id=defines>Defines <a href=#defines class=anchor aria-hidden=true>#</a></h2><table><thead><tr><th></th><th>Name</th></tr></thead><tbody><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-core-definepars>CORE_DEFINEPARS</a></strong>(&mldr;)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-do-link>DO_LINK</a></strong>(r, data, elem)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-interpret-as-parent-dependency>INTERPRET_AS_PARENT_DEPENDENCY</a></strong>(DEP, TYPE)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-core-interpret-as-parent-function>CORE_INTERPRET_AS_PARENT_FUNCTION</a></strong>(FUNC)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-make-primary-model-functor-main>MAKE_PRIMARY_MODEL_FUNCTOR_MAIN</a></strong>(FUNCTION, CAPABILITY, ORIGIN)<br>Main version of MAKE_FUNCTOR modified to build primary_parameters functors.</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-make-primary-model-functor-supp>MAKE_PRIMARY_MODEL_FUNCTOR_SUPP</a></strong>(FUNCTION)<br>Supplementary version of MAKE_FUNCTOR modded for primary_parameters functors.</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-start-model>START_MODEL</a></strong></td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-definepars>DEFINEPARS</a></strong>(&mldr;)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-map-to-capability>MAP_TO_CAPABILITY</a></strong>(PARAMETER, CAPABILITY)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-interpret-as-x-function>INTERPRET_AS_X_FUNCTION</a></strong>(MODEL_X, FUNC)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-interpret-as-parent-function>INTERPRET_AS_PARENT_FUNCTION</a></strong>(FUNC)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-interpret-as-x-dependency>INTERPRET_AS_X_DEPENDENCY</a></strong>(MODEL_X, DEP, TYPE)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-start-capability>START_CAPABILITY</a></strong></td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-long-start-capability>LONG_START_CAPABILITY</a></strong>(MODULE, C)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-declare-function>DECLARE_FUNCTION</a></strong>(TYPE, CAN_MANAGE)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-long-declare-function>LONG_DECLARE_FUNCTION</a></strong>(MODULE, C, FUNCTION, TYPE, CAN_MANAGE)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-dependency>DEPENDENCY</a></strong>(DEP, TYPE)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-long-dependency>LONG_DEPENDENCY</a></strong>(MODULE, FUNCTION, DEP, TYPE)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-needs-manager>NEEDS_MANAGER</a></strong>(&mldr;)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-allowed-model>ALLOWED_MODEL</a></strong>(MODULE, FUNCTION, MODEL)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-allowed-model-dependence>ALLOWED_MODEL_DEPENDENCE</a></strong>(MODULE, FUNCTION, MODEL)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-allow-model-combination>ALLOW_MODEL_COMBINATION</a></strong>(&mldr;)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-model-group>MODEL_GROUP</a></strong>(GROUPNAME, GROUP)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-be-group>BE_GROUP</a></strong>(GROUP)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-declare-backend-req>DECLARE_BACKEND_REQ</a></strong>(GROUP, REQUIREMENT, TAGS, TYPE, ARGS, IS_VARIABLE)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-long-declare-backend-req>LONG_DECLARE_BACKEND_REQ</a></strong>(MODULE, C, FUNCTION, GROUP, REQUIREMENT, TAGS, TYPE, ARGS, IS_VARIABLE)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-activate-backend-req-for-models>ACTIVATE_BACKEND_REQ_FOR_MODELS</a></strong>(MODELS, TAGS)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-start-conditional-dependency>START_CONDITIONAL_DEPENDENCY</a></strong>(TYPE)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-activate-dep-be>ACTIVATE_DEP_BE</a></strong>(BACKEND_REQ, BACKEND, VERSTRING)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-activate-for-models>ACTIVATE_FOR_MODELS</a></strong>(&mldr;)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-model-conditional-dependency>MODEL_CONDITIONAL_DEPENDENCY</a></strong>(DEP, TYPE, &mldr;)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-backend-option>BACKEND_OPTION</a></strong>(BACKEND_AND_VERSIONS, TAGS)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-long-backend-option>LONG_BACKEND_OPTION</a></strong>(MODULE, CAPABILITY, FUNCTION, BACKEND_AND_VERSIONS, TAGS)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-force-same-backend>FORCE_SAME_BACKEND</a></strong>(&mldr;)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-classload-needed>CLASSLOAD_NEEDED</a></strong>(&mldr;)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-allow-models>ALLOW_MODELS</a></strong>(&mldr;)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-make-primary-model-functor>MAKE_PRIMARY_MODEL_FUNCTOR</a></strong>(FUNCTION, CAPABILITY, ORIGIN)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-module-start-model>MODULE_START_MODEL</a></strong><br>&ldquo;In module&rdquo; version of the START_MODEL macro</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-module-interpret-as-x-function>MODULE_INTERPRET_AS_X_FUNCTION</a></strong>(MODEL_X, FUNC)<br>&ldquo;In module&rdquo; version of the INTERPRET_AS_X_FUNCTION macro</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-module-interpret-as-x-dependency>MODULE_INTERPRET_AS_X_DEPENDENCY</a></strong>(MODEL_X, DEP, TYPE)<br>&ldquo;In module&rdquo; version of the INTERPRET_AS_X_DEPENDENCY macro</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-core-start-model>CORE_START_MODEL</a></strong></td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-core-map-to-capability>CORE_MAP_TO_CAPABILITY</a></strong>(PARAMETER, CAPABILITY)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-definepar>DEFINEPAR</a></strong>(PARAMETER)</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-core-interpret-as-x-function>CORE_INTERPRET_AS_X_FUNCTION</a></strong>(MODEL_X, FUNC)<br>Real declaration macro for INTERPRET_AS_X functions.</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-interpret-as-x-function-full>INTERPRET_AS_X_FUNCTION_FULL</a></strong>(MODEL_X, FUNC, ADD_FRIEND)<br>Generic declaration macro for INTERPRET_AS_ functions.</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-core-interpret-as-x-dependency>CORE_INTERPRET_AS_X_DEPENDENCY</a></strong>(MODEL_X, DEP, TYPE)<br>Add a dependency to an interpret-as-X function.</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-model-namespace>MODEL_NAMESPACE</a></strong><br>Macro to get to model namespace easily.</td></tr><tr><td></td><td><strong><a href=/documentation/code/files/model__macros_8hpp/#define-use-model-pipe>USE_MODEL_PIPE</a></strong>(MODEL_X)</td></tr></tbody></table><h2 id=detailed-description>Detailed Description <a href=#detailed-description class=anchor aria-hidden=true>#</a></h2><p><strong>Author</strong>:</p><ul><li>Ben Farmer (<a href=mailto:benjamin.farmer@monash.edu.au>benjamin.farmer@monash.edu.au</a>)</li><li>Pat Scott (<a href=mailto:patscott@physics.mcgill.ca>patscott@physics.mcgill.ca</a>)</li></ul><p><strong>Date</strong>:</p><ul><li>2013 May, June, July</li><li>2013 July, Aug</li><li>2014 Jan, Nov</li><li>2015 Feb</li></ul><p>Helper macros for model definitions.</p><hr><p>Authors (add name and date if you modify):</p><hr><h2 id=macros-documentation>Macros Documentation <a href=#macros-documentation class=anchor aria-hidden=true>#</a></h2><h3 id=define-core-definepars>define CORE_DEFINEPARS <a href=#define-core-definepars class=anchor aria-hidden=true>#</a></h3><pre><code>#define CORE_DEFINEPARS(
    ...
)
  BOOST_PP_SEQ_FOR_EACH(DO_LINK, _, BOOST_PP_TUPLE_TO_SEQ((__VA_ARGS__)))
</code></pre><p>Define multiple model parameters</p><h3 id=define-do-link>define DO_LINK <a href=#define-do-link class=anchor aria-hidden=true>#</a></h3><pre><code>#define DO_LINK(
    r,
    data,
    elem
)
DEFINEPAR(elem)
</code></pre><h3 id=define-interpret-as-parent-dependency>define INTERPRET_AS_PARENT_DEPENDENCY <a href=#define-interpret-as-parent-dependency class=anchor aria-hidden=true>#</a></h3><pre><code>#define INTERPRET_AS_PARENT_DEPENDENCY(
    DEP,
    TYPE
)
  INTERPRET_AS_X_DEPENDENCY(PARENT, DEP, TYPE)
</code></pre><p>Wrappers to convert INTERPRET_AS_X macros to INTERPRET_AS_PARENT macros.</p><h3 id=define-core-interpret-as-parent-function>define CORE_INTERPRET_AS_PARENT_FUNCTION <a href=#define-core-interpret-as-parent-function class=anchor aria-hidden=true>#</a></h3><pre><code>#define CORE_INTERPRET_AS_PARENT_FUNCTION(
    FUNC
)
INTERPRET_AS_X_FUNCTION_FULL(PARENT,FUNC,0)
</code></pre><h3 id=define-make-primary-model-functor-main>define MAKE_PRIMARY_MODEL_FUNCTOR_MAIN <a href=#define-make-primary-model-functor-main class=anchor aria-hidden=true>#</a></h3><pre><code>#define MAKE_PRIMARY_MODEL_FUNCTOR_MAIN(
    FUNCTION,
    CAPABILITY,
    ORIGIN
)
  /* Create the function wrapper object (functor) */                           \
  namespace Functown                                                           \
  {                                                                            \
    primary_model_functor FUNCTION                                             \
     (&amp;ORIGIN::FUNCTION, STRINGIFY(FUNCTION), STRINGIFY(CAPABILITY),           \
     &quot;ModelParameters&quot;, STRINGIFY(ORIGIN), ModelDB());                         \
  }                                                                            \
</code></pre><p>Main version of MAKE_FUNCTOR modified to build primary_parameters functors.</p><p>Macros to create and register primary model functors.</p><p>We need this extra wrapper in order to define these special functors and add them to the Core&rsquo;s primary model functor list (no other functors allowed here).</p><h3 id=define-make-primary-model-functor-supp>define MAKE_PRIMARY_MODEL_FUNCTOR_SUPP <a href=#define-make-primary-model-functor-supp class=anchor aria-hidden=true>#</a></h3><pre><code>#define MAKE_PRIMARY_MODEL_FUNCTOR_SUPP(
    FUNCTION
)
  /* Register the functor with the Core. */                                    \
  int CAT(coreg_,FUNCTION) = register_model_functor_core(Functown::FUNCTION);  \
</code></pre><p>Supplementary version of MAKE_FUNCTOR modded for primary_parameters functors.</p><h3 id=define-start-model>define START_MODEL <a href=#define-start-model class=anchor aria-hidden=true>#</a></h3><pre><code>#define START_MODEL MODULE_START_MODEL
</code></pre><h3 id=define-definepars>define DEFINEPARS <a href=#define-definepars class=anchor aria-hidden=true>#</a></h3><pre><code>#define DEFINEPARS(
    ...
)
/* Do nothing */
</code></pre><h3 id=define-map-to-capability>define MAP_TO_CAPABILITY <a href=#define-map-to-capability class=anchor aria-hidden=true>#</a></h3><pre><code>#define MAP_TO_CAPABILITY(
    PARAMETER,
    CAPABILITY
)
/* Do nothing */
</code></pre><h3 id=define-interpret-as-x-function>define INTERPRET_AS_X_FUNCTION <a href=#define-interpret-as-x-function class=anchor aria-hidden=true>#</a></h3><pre><code>#define INTERPRET_AS_X_FUNCTION(
    MODEL_X,
    FUNC
)
MODULE_INTERPRET_AS_X_FUNCTION(MODEL_X,FUNC)
</code></pre><h3 id=define-interpret-as-parent-function>define INTERPRET_AS_PARENT_FUNCTION <a href=#define-interpret-as-parent-function class=anchor aria-hidden=true>#</a></h3><pre><code>#define INTERPRET_AS_PARENT_FUNCTION(
    FUNC
)
MODULE_INTERPRET_AS_X_FUNCTION(PARENT,FUNC)
</code></pre><h3 id=define-interpret-as-x-dependency>define INTERPRET_AS_X_DEPENDENCY <a href=#define-interpret-as-x-dependency class=anchor aria-hidden=true>#</a></h3><pre><code>#define INTERPRET_AS_X_DEPENDENCY(
    MODEL_X,
    DEP,
    TYPE
)
MODULE_INTERPRET_AS_X_DEPENDENCY(MODEL_X, DEP, TYPE)
</code></pre><h3 id=define-start-capability>define START_CAPABILITY <a href=#define-start-capability class=anchor aria-hidden=true>#</a></h3><pre><code>#define START_CAPABILITY MODULE_START_CAPABILITY(MODEL)
</code></pre><h3 id=define-long-start-capability>define LONG_START_CAPABILITY <a href=#define-long-start-capability class=anchor aria-hidden=true>#</a></h3><pre><code>#define LONG_START_CAPABILITY(
    MODULE,
    C
)
MODULE_START_CAPABILITY(MODULE)
</code></pre><h3 id=define-declare-function>define DECLARE_FUNCTION <a href=#define-declare-function class=anchor aria-hidden=true>#</a></h3><pre><code>#define DECLARE_FUNCTION(
    TYPE,
    CAN_MANAGE
)
MODULE_DECLARE_FUNCTION(MODEL, FUNCTION, TYPE, CAN_MANAGE, IS_MODEL)
</code></pre><h3 id=define-long-declare-function>define LONG_DECLARE_FUNCTION <a href=#define-long-declare-function class=anchor aria-hidden=true>#</a></h3><pre><code>#define LONG_DECLARE_FUNCTION(
    MODULE,
    C,
    FUNCTION,
    TYPE,
    CAN_MANAGE
)
MODULE_DECLARE_FUNCTION(MODULE, FUNCTION, TYPE, CAN_MANAGE, IS_MODEL)
</code></pre><h3 id=define-dependency>define DEPENDENCY <a href=#define-dependency class=anchor aria-hidden=true>#</a></h3><pre><code>#define DEPENDENCY(
    DEP,
    TYPE
)
MODULE_DEPENDENCY(DEP, TYPE, MODEL, FUNCTION, IS_MODEL)
</code></pre><h3 id=define-long-dependency>define LONG_DEPENDENCY <a href=#define-long-dependency class=anchor aria-hidden=true>#</a></h3><pre><code>#define LONG_DEPENDENCY(
    MODULE,
    FUNCTION,
    DEP,
    TYPE
)
MODULE_DEPENDENCY(DEP, TYPE, MODEL, FUNCTION, IS_MODEL)
</code></pre><h3 id=define-needs-manager>define NEEDS_MANAGER <a href=#define-needs-manager class=anchor aria-hidden=true>#</a></h3><pre><code>#define NEEDS_MANAGER(
    ...
)
MODULE_NEEDS_MANAGER_REDIRECT(__VA_ARGS__)
</code></pre><h3 id=define-allowed-model>define ALLOWED_MODEL <a href=#define-allowed-model class=anchor aria-hidden=true>#</a></h3><pre><code>#define ALLOWED_MODEL(
    MODULE,
    FUNCTION,
    MODEL
)
MODULE_ALLOWED_MODEL(MODULE,FUNCTION,MODEL,IS_MODEL)
</code></pre><h3 id=define-allowed-model-dependence>define ALLOWED_MODEL_DEPENDENCE <a href=#define-allowed-model-dependence class=anchor aria-hidden=true>#</a></h3><pre><code>#define ALLOWED_MODEL_DEPENDENCE(
    MODULE,
    FUNCTION,
    MODEL
)
MODULE_ALLOWED_MODEL(MODULE,FUNCTION,MODEL,IS_MODEL)
</code></pre><h3 id=define-allow-model-combination>define ALLOW_MODEL_COMBINATION <a href=#define-allow-model-combination class=anchor aria-hidden=true>#</a></h3><pre><code>#define ALLOW_MODEL_COMBINATION(
    ...
)
DUMMYARG(__VA_ARGS__)
</code></pre><h3 id=define-model-group>define MODEL_GROUP <a href=#define-model-group class=anchor aria-hidden=true>#</a></h3><pre><code>#define MODEL_GROUP(
    GROUPNAME,
    GROUP
)
DUMMYARG(GROUPNAME, GROUP)
</code></pre><h3 id=define-be-group>define BE_GROUP <a href=#define-be-group class=anchor aria-hidden=true>#</a></h3><pre><code>#define BE_GROUP(
    GROUP
)
MODULE_BE_GROUP(GROUP,IS_MODEL)
</code></pre><h3 id=define-declare-backend-req>define DECLARE_BACKEND_REQ <a href=#define-declare-backend-req class=anchor aria-hidden=true>#</a></h3><pre><code>#define DECLARE_BACKEND_REQ(
    GROUP,
    REQUIREMENT,
    TAGS,
    TYPE,
    ARGS,
    IS_VARIABLE
)
MODULE_BACKEND_REQ(MODEL, FUNCTION, GROUP, REQUIREMENT, TAGS, TYPE, ARGS, IS_VARIABLE, IS_MODEL)
</code></pre><h3 id=define-long-declare-backend-req>define LONG_DECLARE_BACKEND_REQ <a href=#define-long-declare-backend-req class=anchor aria-hidden=true>#</a></h3><pre><code>#define LONG_DECLARE_BACKEND_REQ(
    MODULE,
    C,
    FUNCTION,
    GROUP,
    REQUIREMENT,
    TAGS,
    TYPE,
    ARGS,
    IS_VARIABLE
)
MODULE_BACKEND_REQ(MODULE, FUNCTION, GROUP, REQUIREMENT, TAGS, TYPE, ARGS, IS_VARIABLE, IS_MODEL)
</code></pre><h3 id=define-activate-backend-req-for-models>define ACTIVATE_BACKEND_REQ_FOR_MODELS <a href=#define-activate-backend-req-for-models class=anchor aria-hidden=true>#</a></h3><pre><code>#define ACTIVATE_BACKEND_REQ_FOR_MODELS(
    MODELS,
    TAGS
)
DUMMYARG(MODELS,TAGS)
</code></pre><h3 id=define-start-conditional-dependency>define START_CONDITIONAL_DEPENDENCY <a href=#define-start-conditional-dependency class=anchor aria-hidden=true>#</a></h3><pre><code>#define START_CONDITIONAL_DEPENDENCY(
    TYPE
)
MODULE_DEPENDENCY(CONDITIONAL_DEPENDENCY, TYPE, MODEL, FUNCTION, IS_MODEL)
</code></pre><h3 id=define-activate-dep-be>define ACTIVATE_DEP_BE <a href=#define-activate-dep-be class=anchor aria-hidden=true>#</a></h3><pre><code>#define ACTIVATE_DEP_BE(
    BACKEND_REQ,
    BACKEND,
    VERSTRING
)
DUMMYARG(BACKEND_REQ, BACKEND, VERSTRING)
</code></pre><h3 id=define-activate-for-models>define ACTIVATE_FOR_MODELS <a href=#define-activate-for-models class=anchor aria-hidden=true>#</a></h3><pre><code>#define ACTIVATE_FOR_MODELS(
    ...
)
DUMMYARG(__VA_ARGS__)
</code></pre><h3 id=define-model-conditional-dependency>define MODEL_CONDITIONAL_DEPENDENCY <a href=#define-model-conditional-dependency class=anchor aria-hidden=true>#</a></h3><pre><code>#define MODEL_CONDITIONAL_DEPENDENCY(
    DEP,
    TYPE,
    ...
)
MODULE_DEPENDENCY(DEP, TYPE, MODEL, FUNCTION, IS_MODEL)
</code></pre><h3 id=define-backend-option>define BACKEND_OPTION <a href=#define-backend-option class=anchor aria-hidden=true>#</a></h3><pre><code>#define BACKEND_OPTION(
    BACKEND_AND_VERSIONS,
    TAGS
)
DUMMYARG(BACKEND_AND_VERSIONS,TAGS)
</code></pre><h3 id=define-long-backend-option>define LONG_BACKEND_OPTION <a href=#define-long-backend-option class=anchor aria-hidden=true>#</a></h3><pre><code>#define LONG_BACKEND_OPTION(
    MODULE,
    CAPABILITY,
    FUNCTION,
    BACKEND_AND_VERSIONS,
    TAGS
)
                                                            DUMMYARG(BACKEND_AND_VERSIONS,TAGS)
</code></pre><h3 id=define-force-same-backend>define FORCE_SAME_BACKEND <a href=#define-force-same-backend class=anchor aria-hidden=true>#</a></h3><pre><code>#define FORCE_SAME_BACKEND(
    ...
)
DUMMYARG(__VA_ARGS__)
</code></pre><h3 id=define-classload-needed>define CLASSLOAD_NEEDED <a href=#define-classload-needed class=anchor aria-hidden=true>#</a></h3><pre><code>#define CLASSLOAD_NEEDED(
    ...
)
DUMMYARG(__VA_ARGS__)
</code></pre><h3 id=define-allow-models>define ALLOW_MODELS <a href=#define-allow-models class=anchor aria-hidden=true>#</a></h3><pre><code>#define ALLOW_MODELS(
    ...
)
ALLOW_MODELS_AB(MODEL, FUNCTION, __VA_ARGS__)
</code></pre><h3 id=define-make-primary-model-functor>define MAKE_PRIMARY_MODEL_FUNCTOR <a href=#define-make-primary-model-functor class=anchor aria-hidden=true>#</a></h3><pre><code>#define MAKE_PRIMARY_MODEL_FUNCTOR(
    FUNCTION,
    CAPABILITY,
    ORIGIN
)
MAKE_PRIMARY_MODEL_FUNCTOR_MAIN(FUNCTION,CAPABILITY,ORIGIN) \
                                                                  MAKE_PRIMARY_MODEL_FUNCTOR_SUPP(FUNCTION)
</code></pre><h3 id=define-module-start-model>define MODULE_START_MODEL <a href=#define-module-start-model class=anchor aria-hidden=true>#</a></h3><pre><code>#define MODULE_START_MODEL   IF_TOKEN_UNDEFINED(MODEL,FAIL(&quot;You must define MODEL before calling &quot;        \
   &quot;START_MODEL.&quot;))                                                            \
  /*_Pragma(&quot;message declaring model...&quot;) \
  _Pragma( STRINGIFY(CAT(&quot;message Forward declaring model: &quot;,MODEL)) )      */ \
  namespace Gambit                                                             \
  {                                                                            \
   namespace Models                                                            \
   {                                                                           \
    namespace MODEL                                                            \
    {                                                                          \
      /* Module errors */                                                      \
      error&amp; CAT(MODEL,_error)();                                              \
      /* Module warnings */                                                    \
      warning&amp; CAT(MODEL,_warning)();                                          \
    }                                                                          \
   }                                                                           \
  }                                                                            \
</code></pre><p>&ldquo;In module&rdquo; version of the START_MODEL macro</p><p>&ldquo;Rollcall&rdquo; macros. These are lifted straight from <a href=/documentation/code/files/module__macros__incore_8hpp/#file-elements-module-macros-incore-hpp>module_macros_incore.hpp</a> but are modified here and there to suit the role of models.</p><h3 id=define-module-interpret-as-x-function>define MODULE_INTERPRET_AS_X_FUNCTION <a href=#define-module-interpret-as-x-function class=anchor aria-hidden=true>#</a></h3><pre><code>#define MODULE_INTERPRET_AS_X_FUNCTION(
    MODEL_X,
    FUNC
)
  namespace Gambit                                                             \
  {                                                                            \
    namespace Models                                                           \
    {                                                                          \
      namespace MODEL                                                          \
      {                                                                        \
        /* Declare the user-defined function as defined elsewhere */           \
        extern void FUNC (const ModelParameters&amp;, ModelParameters&amp;);           \
                                                                               \
        /* Let the module source know that this functor is declared*/          \
        namespace Functown { extern module_functor&lt;ModelParameters&gt;            \
                                            CAT(MODEL_X,_parameters); }        \
                                                                               \
        namespace Pipes                                                        \
        {                                                                      \
          namespace CAT(MODEL_X,_parameters)                                   \
          {                                                                    \
            /* Declare the parameters safe-pointer map as external. */         \
            extern std::map&lt;str, const safe_ptr&lt;const double&gt; &gt; Param;                     \
            /* Declare the safe-pointer to the models vector as external. */   \
            extern safe_ptr&lt; std::vector&lt;str&gt; &gt; Models;                        \
            /* Declare the safe pointer to the run options as external. */     \
            extern safe_ptr&lt;Options&gt; runOptions;                               \
          }                                                                    \
        }                                                                      \
      }                                                                        \
    }                                                                          \
  }                                                                            \
</code></pre><p>&ldquo;In module&rdquo; version of the INTERPRET_AS_X_FUNCTION macro</p><h3 id=define-module-interpret-as-x-dependency>define MODULE_INTERPRET_AS_X_DEPENDENCY <a href=#define-module-interpret-as-x-dependency class=anchor aria-hidden=true>#</a></h3><pre><code>#define MODULE_INTERPRET_AS_X_DEPENDENCY(
    MODEL_X,
    DEP,
    TYPE
)
MODULE_DEPENDENCY(DEP, TYPE, MODEL, CAT(MODEL_X,_parameters), IS_MODEL)
</code></pre><p>&ldquo;In module&rdquo; version of the INTERPRET_AS_X_DEPENDENCY macro</p><h3 id=define-core-start-model>define CORE_START_MODEL <a href=#define-core-start-model class=anchor aria-hidden=true>#</a></h3><pre><code>#define CORE_START_MODEL 
</code></pre><p>Piggybacks off the CORE_START_MODULE_COMMON macro, as we need all the same machinery.</p><h3 id=define-core-map-to-capability>define CORE_MAP_TO_CAPABILITY <a href=#define-core-map-to-capability class=anchor aria-hidden=true>#</a></h3><pre><code>#define CORE_MAP_TO_CAPABILITY(
    PARAMETER,
    CAPABILITY
)

</code></pre><p>Tells the core that the current parameter corresponds to the specified CAPABILITY, so that module functions can then draw upon them like any other capabilities. Draws from CORE_START_CAPABILITY macro. So far we only allow parameters of type double (currently the parameter object cannot store anything else anyway). If we really want to allow integer or maybe complex parameters later we could extend some things in here.</p><h3 id=define-definepar>define DEFINEPAR <a href=#define-definepar class=anchor aria-hidden=true>#</a></h3><pre><code>#define DEFINEPAR(
    PARAMETER
)
  namespace Gambit                                                             \
  {                                                                            \
    namespace Models                                                           \
    {                                                                          \
      namespace MODEL                                                          \
      {                                                                        \
        /* Tell the functor holding the ModelParameters object to add the new  \
           parameter to its [parameter name, value] map. */                    \
        int CAT(added_,PARAMETER) =                                            \
         add_parameter(Functown::primary_parameters,STRINGIFY(PARAMETER));     \
      }                                                                        \
    }                                                                          \
  }                                                                            \
</code></pre><p>Macro to define parameter. Does not create a corresponding CAPABILITY; use MAP_TO_CAPABILITY to do this after calling <a href=/documentation/code/files/model__macros_8hpp/#define-definepar>DEFINEPAR(S)</a>.</p><h3 id=define-core-interpret-as-x-function>define CORE_INTERPRET_AS_X_FUNCTION <a href=#define-core-interpret-as-x-function class=anchor aria-hidden=true>#</a></h3><pre><code>#define CORE_INTERPRET_AS_X_FUNCTION(
    MODEL_X,
    FUNC
)
INTERPRET_AS_X_FUNCTION_FULL(MODEL_X,FUNC,1)                           \
</code></pre><p>Real declaration macro for INTERPRET_AS_X functions.</p><h3 id=define-interpret-as-x-function-full>define INTERPRET_AS_X_FUNCTION_FULL <a href=#define-interpret-as-x-function-full class=anchor aria-hidden=true>#</a></h3><pre><code>#define INTERPRET_AS_X_FUNCTION_FULL(
    MODEL_X,
    FUNC,
    ADD_FRIEND
)

</code></pre><p>Generic declaration macro for INTERPRET_AS_ functions.</p><h3 id=define-core-interpret-as-x-dependency>define CORE_INTERPRET_AS_X_DEPENDENCY <a href=#define-core-interpret-as-x-dependency class=anchor aria-hidden=true>#</a></h3><pre><code>#define CORE_INTERPRET_AS_X_DEPENDENCY(
    MODEL_X,
    DEP,
    TYPE
)
CORE_DEPENDENCY(DEP, TYPE, MODEL, CAT(MODEL_X,_parameters), IS_MODEL)        \
</code></pre><p>Add a dependency to an interpret-as-X function.</p><h3 id=define-model-namespace>define MODEL_NAMESPACE <a href=#define-model-namespace class=anchor aria-hidden=true>#</a></h3><pre><code>#define MODEL_NAMESPACE Gambit::Models::MODEL
</code></pre><p>Macro to get to model namespace easily.</p><h3 id=define-use-model-pipe>define USE_MODEL_PIPE <a href=#define-use-model-pipe class=anchor aria-hidden=true>#</a></h3><pre><code>#define USE_MODEL_PIPE(
    MODEL_X
)
  using namespace MODEL_NAMESPACE::Pipes::CAT(MODEL_X,_parameters);             \
</code></pre><p>Macro to easily get the Pipes for an INTERPRET_AS_X function, for retrieving dependencies</p><h2 id=source-code>Source code <a href=#source-code class=anchor aria-hidden=true>#</a></h2><pre><code>//   GAMBIT: Global and Modular BSM Inference Tool
//   *********************************************
///  \file
///
///  Helper macros for model definitions.
///
///  *********************************************
///
///  Authors (add name and date if you modify):
///
///  \author Ben Farmer
///          (benjamin.farmer@monash.edu.au)
///  \date 2013 May, June, July
///
///  \author Pat Scott
///          (patscott@physics.mcgill.ca)
///  \date 2013 July, Aug
///  \date 2014 Jan, Nov
///  \date 2015 Feb
///
///  *********************************************

#ifndef __model_macros_hpp__
#define __model_macros_hpp__

#include &quot;gambit/Models/orphan.hpp&quot;
#include &quot;gambit/Models/claw_singleton.hpp&quot;
#include &quot;gambit/Utils/util_macros.hpp&quot;
#include &quot;gambit/Utils/boost_fallbacks.hpp&quot;
#include &quot;gambit/Elements/ini_functions.hpp&quot;

#include &lt;boost/preprocessor/seq/for_each.hpp&gt;

#ifdef __model_rollcall_hpp__
  #include &quot;gambit/Elements/module_macros_incore_defs.hpp&quot;
  #ifndef STANDALONE
    #include &quot;gambit/Core/ini_functions.hpp&quot;
  #endif
  #define START_MODEL                                             CORE_START_MODEL
  #define DEFINEPARS(...)                                         CORE_DEFINEPARS(__VA_ARGS__)
  #define MAP_TO_CAPABILITY(PARAMETER,CAPABILITY)                 CORE_MAP_TO_CAPABILITY(PARAMETER,CAPABILITY)
  #define INTERPRET_AS_X_FUNCTION(MODEL_X,FUNC)                   CORE_INTERPRET_AS_X_FUNCTION(MODEL_X,FUNC)
  #define INTERPRET_AS_PARENT_FUNCTION(FUNC)                      CORE_INTERPRET_AS_PARENT_FUNCTION(FUNC)
  #define INTERPRET_AS_X_DEPENDENCY(MODEL_X, DEP, TYPE)           CORE_INTERPRET_AS_X_DEPENDENCY(MODEL_X, DEP, TYPE)
  // &quot;Traditional&quot; module macros
  // These are just copy/pasted from the module versions with small adjustments, like MODULE-&gt;MODEL and NOT_MODEL-&gt;IS_MODEL
  // (Note: MODULE left as MODULE where it is just a function argument)
  #define START_CAPABILITY                                  CORE_START_CAPABILITY(MODEL, CAPABILITY, IS_MODEL)
  #define LONG_START_CAPABILITY(MODULE, CAPABILITY)         CORE_START_CAPABILITY(MODULE, CAPABILITY, IS_MODEL)
  #define DECLARE_FUNCTION(TYPE, FLAG)                      CORE_DECLARE_FUNCTION(MODEL, CAPABILITY, FUNCTION, TYPE, FLAG, IS_MODEL)
  #define LONG_DECLARE_FUNCTION(MODULE, CAPABILITY, FUNCTION, TYPE, FLAG) CORE_DECLARE_FUNCTION(MODULE, CAPABILITY, FUNCTION, TYPE, FLAG, IS_MODEL)
  #define NEEDS_MANAGER(...)                                CORE_NEEDS_MANAGER(__VA_ARGS__)
  #define DEPENDENCY(DEP, TYPE)                             CORE_DEPENDENCY(DEP, TYPE, MODEL, FUNCTION, IS_MODEL)
  #define LONG_DEPENDENCY(MODULE, FUNCTION, DEP, TYPE)      CORE_DEPENDENCY(DEP, TYPE, MODULE, FUNCTION, IS_MODEL)
  #define ALLOW_MODELS(...)                                 ALLOW_MODELS_AB(MODEL, FUNCTION, __VA_ARGS__)
  #define ALLOWED_MODEL(MODULE,FUNCTION,MODEL)              CORE_ALLOWED_MODEL(MODULE,FUNCTION,MODEL,IS_MODEL)
  #define ALLOWED_MODEL_DEPENDENCE(MODULE,FUNCTION,MODEL)   CORE_ALLOW_MODEL_DEPENDENCE(MODULE,FUNCTION,MODEL,IS_MODEL)
  #define ALLOW_MODEL_COMBINATION(...)                      CORE_ALLOW_MODEL_COMBINATION(MODEL,FUNCTION,IS_MODEL,(__VA_ARGS__))
  #define MODEL_GROUP(GROUPNAME,GROUP)                      CORE_MODEL_GROUP(MODEL,FUNCTION,GROUPNAME,GROUP,IS_MODEL)
  #define DECLARE_BACKEND_REQ(GROUP, REQUIREMENT, TAGS, TYPE, ARGS, IS_VARIABLE) \
                                                            CORE_BACKEND_REQ(MODEL, CAPABILITY, FUNCTION, GROUP, REQUIREMENT, TAGS, TYPE, ARGS, IS_VARIABLE, IS_MODEL)
  #define LONG_DECLARE_BACKEND_REQ(MODULE, CAPABILITY, FUNCTION, GROUP, REQUIREMENT, TAGS, TYPE, ARGS, IS_VARIABLE) \
                                                            CORE_BACKEND_REQ(MODULE, CAPABILITY, FUNCTION, GROUP, REQUIREMENT, TAGS, TYPE, ARGS, IS_VARIABLE, IS_MODEL)
  #define BE_GROUP(GROUP)                                   CORE_BE_GROUP(GROUP,IS_MODEL)
  #define ACTIVATE_BACKEND_REQ_FOR_MODELS(MODELS,TAGS)      CORE_BE_MODEL_RULE(MODELS,TAGS,IS_MODEL)
  #define BACKEND_OPTION(BACKEND_AND_VERSIONS,TAGS)         LONG_BACKEND_OPTION(MODEL, CAPABILITY, FUNCTION, BACKEND_AND_VERSIONS,TAGS)
  #define LONG_BACKEND_OPTION(MODULE, CAPABILITY, FUNCTION, BACKEND_AND_VERSIONS,TAGS) \
                                                            CORE_BACKEND_OPTION(MODULE, CAPABILITY, FUNCTION, BACKEND_AND_VERSIONS,TAGS, IS_MODEL)
  #define FORCE_SAME_BACKEND(...)                           CORE_FORCE_SAME_BACKEND(IS_MODEL,__VA_ARGS__)
  #define START_CONDITIONAL_DEPENDENCY(TYPE)                CORE_START_CONDITIONAL_DEPENDENCY(MODEL, CAPABILITY, \
                                                             FUNCTION, CONDITIONAL_DEPENDENCY, TYPE, IS_MODEL)
  #define ACTIVATE_DEP_BE(BACKEND_REQ, BACKEND, VERSTRING)  CORE_ACTIVATE_DEP_BE(BACKEND_REQ, BACKEND, VERSTRING, IS_MODEL)
  #define ACTIVATE_FOR_MODELS(...)                          ACTIVATE_DEP_MODEL(MODEL, CAPABILITY, FUNCTION, CONDITIONAL_DEPENDENCY, IS_MODEL, #__VA_ARGS__)
  #define MODEL_CONDITIONAL_DEPENDENCY(DEP, TYPE, ...)      CORE_START_CONDITIONAL_DEPENDENCY(MODEL, CAPABILITY, FUNCTION, DEP, TYPE, IS_MODEL) \
                                                            ACTIVATE_DEP_MODEL(MODEL, CAPABILITY, FUNCTION, DEP, IS_MODEL #__VA_ARGS__)
  #define CLASSLOAD_NEEDED(BACKEND, VERSION)               CORE_CLASSLOAD_NEEDED(BACKEND, VERSION, IS_MODEL)
#else
  #include &quot;gambit/Elements/module_macros_inmodule_defs.hpp&quot;
  #define START_MODEL                                       MODULE_START_MODEL
  #define DEFINEPARS(...)                                   /* Do nothing */
  #define MAP_TO_CAPABILITY(PARAMETER,CAPABILITY)           /* Do nothing */
  #define INTERPRET_AS_X_FUNCTION(MODEL_X,FUNC)             MODULE_INTERPRET_AS_X_FUNCTION(MODEL_X,FUNC)
  #define INTERPRET_AS_PARENT_FUNCTION(FUNC)                MODULE_INTERPRET_AS_X_FUNCTION(PARENT,FUNC)
  #define INTERPRET_AS_X_DEPENDENCY(MODEL_X, DEP, TYPE)     MODULE_INTERPRET_AS_X_DEPENDENCY(MODEL_X, DEP, TYPE)
  // &quot;Traditional&quot; module macros
  #define START_CAPABILITY                                  MODULE_START_CAPABILITY(MODEL)
  #define LONG_START_CAPABILITY(MODULE, C)                  MODULE_START_CAPABILITY(MODULE)
  #define DECLARE_FUNCTION(TYPE, CAN_MANAGE)                MODULE_DECLARE_FUNCTION(MODEL, FUNCTION, TYPE, CAN_MANAGE, IS_MODEL)
  #define LONG_DECLARE_FUNCTION(MODULE, C, FUNCTION, TYPE, CAN_MANAGE) \
                                                            MODULE_DECLARE_FUNCTION(MODULE, FUNCTION, TYPE, CAN_MANAGE, IS_MODEL)
  #define DEPENDENCY(DEP, TYPE)                             MODULE_DEPENDENCY(DEP, TYPE, MODEL, FUNCTION, IS_MODEL)
  #define LONG_DEPENDENCY(MODULE, FUNCTION, DEP, TYPE)      MODULE_DEPENDENCY(DEP, TYPE, MODEL, FUNCTION, IS_MODEL)
  #define NEEDS_MANAGER(...)                                MODULE_NEEDS_MANAGER_REDIRECT(__VA_ARGS__)
  #define ALLOWED_MODEL(MODULE,FUNCTION,MODEL)              MODULE_ALLOWED_MODEL(MODULE,FUNCTION,MODEL,IS_MODEL)
  #define ALLOWED_MODEL_DEPENDENCE(MODULE,FUNCTION,MODEL)   MODULE_ALLOWED_MODEL(MODULE,FUNCTION,MODEL,IS_MODEL)
  #define ALLOW_MODEL_COMBINATION(...)                      DUMMYARG(__VA_ARGS__)
  #define MODEL_GROUP(GROUPNAME, GROUP)                     DUMMYARG(GROUPNAME, GROUP)

  #define BE_GROUP(GROUP)                                   MODULE_BE_GROUP(GROUP,IS_MODEL)
  #define DECLARE_BACKEND_REQ(GROUP, REQUIREMENT, TAGS, TYPE, ARGS, IS_VARIABLE) \
                                                            MODULE_BACKEND_REQ(MODEL, FUNCTION, GROUP, REQUIREMENT, TAGS, TYPE, ARGS, IS_VARIABLE, IS_MODEL)
  #define LONG_DECLARE_BACKEND_REQ(MODULE, C, FUNCTION, GROUP, REQUIREMENT, TAGS, TYPE, ARGS, IS_VARIABLE) \
                                                            MODULE_BACKEND_REQ(MODULE, FUNCTION, GROUP, REQUIREMENT, TAGS, TYPE, ARGS, IS_VARIABLE, IS_MODEL)
  #define ACTIVATE_BACKEND_REQ_FOR_MODELS(MODELS,TAGS)      DUMMYARG(MODELS,TAGS)
  #define START_CONDITIONAL_DEPENDENCY(TYPE)                MODULE_DEPENDENCY(CONDITIONAL_DEPENDENCY, TYPE, MODEL, FUNCTION, IS_MODEL)
  #define ACTIVATE_DEP_BE(BACKEND_REQ, BACKEND, VERSTRING)  DUMMYARG(BACKEND_REQ, BACKEND, VERSTRING)
  #define ACTIVATE_FOR_MODELS(...)                          DUMMYARG(__VA_ARGS__)
  #define MODEL_CONDITIONAL_DEPENDENCY(DEP, TYPE, ...)      MODULE_DEPENDENCY(DEP, TYPE, MODEL, FUNCTION, IS_MODEL)
  #define BACKEND_OPTION(BACKEND_AND_VERSIONS,TAGS)         DUMMYARG(BACKEND_AND_VERSIONS,TAGS)
  #define LONG_BACKEND_OPTION(MODULE, CAPABILITY, FUNCTION, BACKEND_AND_VERSIONS,TAGS) \
                                                            DUMMYARG(BACKEND_AND_VERSIONS,TAGS)
  #define FORCE_SAME_BACKEND(...)                           DUMMYARG(__VA_ARGS__)
  #define CLASSLOAD_NEEDED(...)                             DUMMYARG(__VA_ARGS__)

#endif
#define ALLOW_MODELS(...)                                   ALLOW_MODELS_AB(MODEL, FUNCTION, __VA_ARGS__)

#ifndef STANDALONE
  #define MAKE_PRIMARY_MODEL_FUNCTOR(FUNCTION,CAPABILITY,ORIGIN)  MAKE_PRIMARY_MODEL_FUNCTOR_MAIN(FUNCTION,CAPABILITY,ORIGIN) \
                                                                  MAKE_PRIMARY_MODEL_FUNCTOR_SUPP(FUNCTION)
#else
  #define MAKE_PRIMARY_MODEL_FUNCTOR(FUNCTION,CAPABILITY,ORIGIN)  MAKE_PRIMARY_MODEL_FUNCTOR_MAIN(FUNCTION,CAPABILITY,ORIGIN)
#endif

// MACRO DEFINITIONS.

//  ****************************************************************************
/// &quot;Rollcall&quot; macros. These are lifted straight from module_macros_incore.hpp
/// but are modified here and there to suit the role of models.

/// &quot;In module&quot; version of the START_MODEL macro
#define MODULE_START_MODEL                                                     \
  IF_TOKEN_UNDEFINED(MODEL,FAIL(&quot;You must define MODEL before calling &quot;        \
   &quot;START_MODEL.&quot;))                                                            \
  /*_Pragma(&quot;message declaring model...&quot;) \
  _Pragma( STRINGIFY(CAT(&quot;message Forward declaring model: &quot;,MODEL)) )      */ \
  namespace Gambit                                                             \
  {                                                                            \
   namespace Models                                                            \
   {                                                                           \
    namespace MODEL                                                            \
    {                                                                          \
      /* Module errors */                                                      \
      error&amp; CAT(MODEL,_error)();                                              \
      /* Module warnings */                                                    \
      warning&amp; CAT(MODEL,_warning)();                                          \
    }                                                                          \
   }                                                                           \
  }                                                                            \

/// &quot;In module&quot; version of the INTERPRET_AS_X_FUNCTION macro
#define MODULE_INTERPRET_AS_X_FUNCTION(MODEL_X,FUNC)                           \
  namespace Gambit                                                             \
  {                                                                            \
    namespace Models                                                           \
    {                                                                          \
      namespace MODEL                                                          \
      {                                                                        \
        /* Declare the user-defined function as defined elsewhere */           \
        extern void FUNC (const ModelParameters&amp;, ModelParameters&amp;);           \
                                                                               \
        /* Let the module source know that this functor is declared*/          \
        namespace Functown { extern module_functor&lt;ModelParameters&gt;            \
                                            CAT(MODEL_X,_parameters); }        \
                                                                               \
        namespace Pipes                                                        \
        {                                                                      \
          namespace CAT(MODEL_X,_parameters)                                   \
          {                                                                    \
            /* Declare the parameters safe-pointer map as external. */         \
            extern std::map&lt;str, const safe_ptr&lt;const double&gt; &gt; Param;                     \
            /* Declare the safe-pointer to the models vector as external. */   \
            extern safe_ptr&lt; std::vector&lt;str&gt; &gt; Models;                        \
            /* Declare the safe pointer to the run options as external. */     \
            extern safe_ptr&lt;Options&gt; runOptions;                               \
          }                                                                    \
        }                                                                      \
      }                                                                        \
    }                                                                          \
  }                                                                            \

/// &quot;In module&quot; version of the INTERPRET_AS_X_DEPENDENCY macro
#define MODULE_INTERPRET_AS_X_DEPENDENCY(MODEL_X, DEP, TYPE)                  \
  MODULE_DEPENDENCY(DEP, TYPE, MODEL, CAT(MODEL_X,_parameters), IS_MODEL)


/// Piggybacks off the CORE_START_MODULE_COMMON macro, as we need all the same
/// machinery.
#define CORE_START_MODEL                                                       \
                                                                               \
  namespace Gambit                                                             \
  {                                                                            \
    ADD_TAG_IN_CURRENT_NAMESPACE(primary_parameters)                           \
    ADD_TAG_IN_CURRENT_NAMESPACE(CAT(MODEL,_parameters))                       \
    namespace Models                                                           \
    {                                                                          \
      ADD_MODEL_TAG_IN_CURRENT_NAMESPACE(MODEL)                                \
                                                                               \
      namespace MODEL                                                          \
      {                                                                        \
                                                                               \
        /* Basic machinery, same as for modules                                \
           (macro from module_macros_incore.hpp) */                            \
        CORE_START_MODULE_COMMON_MAIN(MODEL)                                   \
                                                                               \
        /* Add the model to GAMBIT model database */                           \
        int model_rego = add_model(STRINGIFY(MODEL), STRINGIFY(PARENT));       \
                                                                               \
        /* Functor's actual &quot;calculate&quot; function.  Doesn't do anything. */     \
        void primary_parameters (ModelParameters&amp;) {}                          \
                                                                               \
        /* Wrap it up in a primary_model_functor */                            \
        MAKE_PRIMARY_MODEL_FUNCTOR(primary_parameters, CAT(MODEL,_parameters), \
                                   MODEL)                                      \
                                                                               \
        /* Ini-function to set the name of the model hosted by the
           ModelParameters object  */                                          \
        int added_model_name =                                                 \
         set_model_name(Functown::primary_parameters,STRINGIFY(MODEL));        \
      }                                                                        \
                                                                               \
      /* Make the functor exclusive to this model and its descendants */       \
      CORE_ALLOW_MODEL(MODEL,primary_parameters,MODEL)                         \
                                                                               \
    }                                                                          \
  }                                                                            \



/// Tells the core that the current parameter corresponds to the specified
/// CAPABILITY, so that module functions can then draw upon them like any
/// other capabilities. Draws from CORE_START_CAPABILITY macro.
/// So far we only allow parameters of type double (currently the parameter
/// object cannot store anything else anyway). If we really want to allow
/// integer or maybe complex parameters later we could extend some things in
/// here.
#define CORE_MAP_TO_CAPABILITY(PARAMETER,CAPABILITY)                           \
                                                                               \
  namespace Gambit                                                             \
  {                                                                            \
                                                                               \
    /* Add CAPABILITY to global set of tags of known module capabilities/deps*/\
    ADD_TAG_IN_CURRENT_NAMESPACE(CAPABILITY)                                   \
                                                                               \
    namespace Models                                                           \
    {                                                                          \
                                                                               \
      namespace MODEL                                                          \
      {                                                                        \
                                                                               \
        /* Add PARAMETER to set of tags of known module functions.*/           \
        ADD_TAG_IN_CURRENT_NAMESPACE(PARAMETER)                                \
                                                                               \
        /* The wrapper function which extracts the value of PARAMETER from     \
           the parameter object. This is the analogue of a module function,    \
           and is what will be wrapped in a functor for processing by the      \
           core */                                                             \
        /* Just the prototype here: defined a bit later on */                  \
        void PARAMETER (double &amp;);                                             \
                                                                               \
        /* Wrap it up in a functor (macro from module_macros_incore.hpp) */    \
        MAKE_FUNCTOR(PARAMETER,double,CAPABILITY,MODEL,0)                      \
                                                                               \
      }                                                                        \
                                                                               \
      /* Make the functor exclusive to this model and its descendants */       \
      CORE_ALLOW_MODEL(MODEL,PARAMETER,MODEL)                                  \
                                                                               \
      /* Create dependency on the parameters of MODEL */                       \
      /* TODO: Check whether there is a more elegant solution */               \
      CORE_ALLOWED_MODEL_ARRANGE_DEP(MODEL,PARAMETER,MODEL)                    \
                                                                               \
    }                                                                          \
                                                                               \
  }                                                                            \
                                                                               \
  /* Define the actual parameter setting function, now that we have the
     functor and its dependency */                                             \
  namespace Gambit                                                             \
  {                                                                            \
                                                                               \
    namespace Models                                                           \
    {                                                                          \
                                                                               \
      namespace MODEL                                                          \
      {                                                                        \
                                                                               \
        /* The wrapper function which extracts the value of PARAMETER from
           the parameter object. This is the analogue of a module function,
           and is what will be wrapped in a functor for processing by the
           core */                                                             \
        void PARAMETER (double &amp;result)                                        \
        {                                                                      \
          result = *Pipes::PARAMETER::Param.at(STRINGIFY(PARAMETER));          \
        }                                                                      \
                                                                               \
      }                                                                        \
                                                                               \
    }                                                                          \
                                                                               \
  }                                                                            \

/// Macro to define parameter.  Does not create a corresponding CAPABILITY;
/// use MAP_TO_CAPABILITY to do this after calling DEFINEPAR(S).
#define DEFINEPAR(PARAMETER)                                                   \
  namespace Gambit                                                             \
  {                                                                            \
    namespace Models                                                           \
    {                                                                          \
      namespace MODEL                                                          \
      {                                                                        \
        /* Tell the functor holding the ModelParameters object to add the new  \
           parameter to its [parameter name, value] map. */                    \
        int CAT(added_,PARAMETER) =                                            \
         add_parameter(Functown::primary_parameters,STRINGIFY(PARAMETER));     \
      }                                                                        \
    }                                                                          \
  }                                                                            \

/// Define multiple model parameters
/// @{
#define CORE_DEFINEPARS(...)                                                   \
  BOOST_PP_SEQ_FOR_EACH(DO_LINK, _, BOOST_PP_TUPLE_TO_SEQ((__VA_ARGS__)))
#define DO_LINK(r,data,elem) DEFINEPAR(elem)
/// @}

/// Real declaration macro for INTERPRET_AS_X functions.
#define CORE_INTERPRET_AS_X_FUNCTION(MODEL_X,FUNC)                             \
        INTERPRET_AS_X_FUNCTION_FULL(MODEL_X,FUNC,1)                           \

/// Generic declaration macro for INTERPRET_AS_ functions.
#define INTERPRET_AS_X_FUNCTION_FULL(MODEL_X,FUNC,ADD_FRIEND)                  \
  namespace Gambit                                                             \
  {                                                                            \
                                                                               \
    /* Add tags which specify that MODEL_X_parameters is a known capability/dep\
    in GAMBIT. */                                                              \
    ADD_TAG_IN_CURRENT_NAMESPACE(CAT(MODEL_X,_parameters))                     \
                                                                               \
    namespace Models                                                           \
    {                                                                          \
                                                                               \
      namespace MODEL                                                          \
      {                                                                        \
                                                                               \
        /* Add MODEL_X_parameters to the set of tags of known functions        \
        provided by this model. */                                             \
        ADD_TAG_IN_CURRENT_NAMESPACE(CAT(MODEL_X,_parameters))                 \
        ADD_TAG_IN_CURRENT_NAMESPACE(FUNC)                                     \
                                                                               \
        /* The function which computes the MODEL_X_parameters object. This     \
           is the analogue of a module function, and is what will be wrapped   \
           in a functor for processing by the core                             \
           Note: CODE must be enclosed in braces. */                           \
        /* Register (prototype) the function */                                \
        void CAT(MODEL_X,_parameters) (ModelParameters &amp;);                     \
                                                                               \
        /* Wrap it up in a functor (macro from module_macros_incore.hpp) */    \
        MAKE_FUNCTOR(CAT(MODEL_X,_parameters),ModelParameters,                 \
         CAT(MODEL_X,_parameters),MODEL,0)                                     \
                                                                               \
        /* Call a function that tells the functor to take its parameter        \
           definition from MODEL_X's primary_parameters functor, and           \
           adds MODEL_X as a friend of MODEL if it is not a parent. */         \
        const int CAT(pars_for_,MODEL_X) =                                     \
         copy_parameters(MODEL_X::Functown::primary_parameters,                \
          Functown::CAT(MODEL_X,_parameters),                                  \
          BOOST_PP_IIF(ADD_FRIEND,true,false),                                 \
          STRINGIFY(MODEL), STRINGIFY(MODEL_X));                               \
                                                                               \
      }                                                                        \
                                                                               \
    }                                                                          \
                                                                               \
  }                                                                            \
                                                                               \
  /* Automatically add a dependency on the host model's parameters */          \
  INTERPRET_AS_X_DEPENDENCY(MODEL_X,CAT(MODEL,_parameters),ModelParameters)    \
                                                                               \
  namespace Gambit                                                             \
  {                                                                            \
                                                                               \
    namespace Models                                                           \
    {                                                                          \
                                                                               \
      namespace MODEL                                                          \
      {                                                                        \
                                                                               \
        /* Prototype the user-defined function */                              \
        void FUNC (const ModelParameters&amp;, ModelParameters&amp;);                  \
                                                                               \
        /* The actual definition of the interpret_as_X &quot;module&quot; function */    \
        void CAT(MODEL_X,_parameters) (ModelParameters &amp;model_x_params)        \
        {                                                                      \
          /* Collect MODEL's parameters via dependency system */               \
          using namespace Pipes::CAT(MODEL_X,_parameters);                     \
          const ModelParameters&amp; model_params = *Dep::CAT(MODEL,_parameters);  \
                                                                               \
          /* Run user-supplied code (which must take result as an
             argument, and set the parameters it contains as desired) */       \
          FUNC (model_params,model_x_params);                                  \
        }                                                                      \
                                                                               \
      }                                                                        \
                                                                               \
      /* Make the functor exclusive to this model and its descendants */       \
      CORE_ALLOW_MODEL(MODEL,CAT(MODEL_X,_parameters),MODEL)                   \
                                                                               \
    }                                                                          \
                                                                               \
  }                                                                            \


/// Add a dependency to an interpret-as-X function.
#define CORE_INTERPRET_AS_X_DEPENDENCY(MODEL_X, DEP, TYPE)                     \
  CORE_DEPENDENCY(DEP, TYPE, MODEL, CAT(MODEL_X,_parameters), IS_MODEL)        \

/// Wrappers to convert INTERPRET_AS_X macros to INTERPRET_AS_PARENT macros.
/// @{
#define INTERPRET_AS_PARENT_DEPENDENCY(DEP, TYPE)                              \
  INTERPRET_AS_X_DEPENDENCY(PARENT, DEP, TYPE)
#define CORE_INTERPRET_AS_PARENT_FUNCTION(FUNC)                                \
  INTERPRET_AS_X_FUNCTION_FULL(PARENT,FUNC,0)
/// @}

/// Macro to get to model namespace easily
#define MODEL_NAMESPACE Gambit::Models::MODEL

/// Macro to easily get the Pipes for an INTERPRET_AS_X function, for retrieving
/// dependencies
#define USE_MODEL_PIPE(MODEL_X)                                                 \
  using namespace MODEL_NAMESPACE::Pipes::CAT(MODEL_X,_parameters);             \


/// Macros to create and register primary model functors.
///
/// We need this extra wrapper in order to define these special functors and add
/// them to the Core's primary model functor list (no other functors allowed here).
/// @{

/// Main version of MAKE_FUNCTOR modified to build primary_parameters functors.
#define MAKE_PRIMARY_MODEL_FUNCTOR_MAIN(FUNCTION,CAPABILITY,ORIGIN)            \
  /* Create the function wrapper object (functor) */                           \
  namespace Functown                                                           \
  {                                                                            \
    primary_model_functor FUNCTION                                             \
     (&amp;ORIGIN::FUNCTION, STRINGIFY(FUNCTION), STRINGIFY(CAPABILITY),           \
     &quot;ModelParameters&quot;, STRINGIFY(ORIGIN), ModelDB());                         \
  }                                                                            \

/// Supplementary version of MAKE_FUNCTOR modded for primary_parameters functors.
#define MAKE_PRIMARY_MODEL_FUNCTOR_SUPP(FUNCTION)                              \
  /* Register the functor with the Core. */                                    \
  int CAT(coreg_,FUNCTION) = register_model_functor_core(Functown::FUNCTION);  \

/// @}

#endif /* defined(__model_macros_hpp__) */
</code></pre><hr><p>Updated on 2022-09-08 at 03:08:05 +0000</p></main></div></div></div><footer class="footer text-muted"><div class=container-xxl><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Powered by <a href=https://gohugo.io/>Hugo</a> and <a href=https://getdoks.org/>Doks</a></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline><li class=list-inline-item><a href=/license/>License</a></li></ul></div></div></div></footer><script src=/js/bootstrap.min.1da7e648bd316d7b1f1bff21fe81545e73f3c2385908a8c3be87f79a560042318b4b13031e53871d84590710da0df312590e0c60b11a6a1b83dede2f81c30b66.js integrity="sha512-HafmSL0xbXsfG/8h/oFUXnPzwjhZCKjDvof3mlYAQjGLSxMDHlOHHYRZBxDaDfMSWQ4MYLEaahuD3t4vgcMLZg==" crossorigin=anonymous defer></script>
<script src=/js/highlight.min.5b48bc253dc75aeea5fb366ecf700f4925e2b6eb1a1466f2124b722d68148d67bc0a9365d2b8ad9c585161b46372d23b08509a16f1fd518542b894756d4752d0.js integrity="sha512-W0i8JT3HWu6l+zZuz3APSSXitusaFGbyEktyLWgUjWe8CpNl0ritnFhRYbRjctI7CFCaFvH9UYVCuJR1bUdS0A==" crossorigin=anonymous defer></script>
<script src=/main.min.162c56a0426544de0d010e66c56e321579655c400c9aae06a6823e7682de379adadf2165bd416fea191e4e7e410fbf1fd2c35a759aa43ff2e3787067669bf81b.js integrity="sha512-FixWoEJlRN4NAQ5mxW4yFXllXEAMmq4GpoI+doLeN5ra3yFlvUFv6hkeTn5BD78f0sNadZqkP/LjeHBnZpv4Gw==" crossorigin=anonymous defer></script>
<script src=https://gambitbsm.github.io/index.min.cccf6ddd4818f08cc1a022b7a6fc3728b38bd559df51a68bcb038fc8187690d4acdd1f30c68365017aad228fed8baffc493ec87cc0093b3db3abdb865b3ae63c.js integrity="sha512-zM9t3UgY8IzBoCK3pvw3KLOL1VnfUaaLywOPyBh2kNSs3R8wxoNlAXqtIo/ti6/8ST7IfMAJOz2zq9uGWzrmPA==" crossorigin=anonymous defer></script></body></html>