<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="ie=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=preload as=font href=https://gambitbsm.github.io/fonts/vendor/jost/jost-v4-latin-regular.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://gambitbsm.github.io/fonts/vendor/jost/jost-v4-latin-500.woff2 type=font/woff2 crossorigin><link rel=preload as=font href=https://gambitbsm.github.io/fonts/vendor/jost/jost-v4-latin-700.woff2 type=font/woff2 crossorigin><script>(()=>{var e=localStorage.getItem("theme");e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script><link rel=stylesheet href=https://gambitbsm.github.io/main.2b4f179ba5137bf560410d5863d012cb95c0a7504da18190247e40a43544a8252fba5dc321f967a611ca9a4d80dec44fabc75d108c7c0e4e8ed381ec007b7391.css integrity="sha512-K08Xm6UTe/VgQQ1YY9ASy5XAp1BNoYGQJH5ApDVEqCUvul3DIflnphHKmk2A3sRPq8ddEIx8Dk6O04HsAHtzkQ==" crossorigin=anonymous><noscript><style>img.lazyload{display:none}</style></noscript><meta name=robots content="index, follow"><meta name=googlebot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><meta name=bingbot content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"><title>file src/ExampleBit_A.cpp - GAMBIT</title><meta name=description content="[No description available]"><link rel=canonical href=https://gambitbsm.github.io/documentation/code/files/examplebit__a_8cpp/><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="og:title" content="file src/ExampleBit_A.cpp"><meta property="og:description" content="[No description available]"><meta property="og:url" content="https://gambitbsm.github.io/documentation/code/files/examplebit__a_8cpp/"><meta property="og:site_name" content="GAMBIT"><meta property="og:image" content="https://gambitbsm.github.io/gambit_logo.png"><meta property="og:image:alt" content="GAMBIT"><meta name=twitter:card content="summary_large_image"><meta name=twitter:site content><meta name=twitter:creator content><meta name=twitter:title content="file src/ExampleBit_A.cpp"><meta name=twitter:description content="[No description available]"><meta name=twitter:image content="https://gambitbsm.github.io/gambit_logo.png"><meta name=twitter:image:alt content="file src/ExampleBit_A.cpp"><script type=application/ld+json>{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://gambitbsm.github.io/#/schema/organization/1","name":"Doks","url":"https://gambitbsm.github.io/","sameAs":["https://github.com/GambitBSM"],"logo":{"@type":"ImageObject","@id":"https://gambitbsm.github.io/#/schema/image/1","url":"https://gambitbsm.github.io/logo-doks.png","width":450,"height":416,"caption":"Doks"},"image":{"@id":"https://gambitbsm.github.io/#/schema/image/1"}},{"@type":"WebSite","@id":"https://gambitbsm.github.io/#/schema/website/1","url":"https://gambitbsm.github.io/","name":"GAMBIT","description":"Documentation for the Global And Modular BSM Inference Tool","publisher":{"@id":"https://gambitbsm.github.io/#/schema/organization/1"}},{"@type":"WebPage","@id":"https://gambitbsm.github.io/documentation/code/files/examplebit__a_8cpp/","url":"https://gambitbsm.github.io/documentation/code/files/examplebit__a_8cpp/","name":"file src\/ExampleBit_A.cpp","description":"[No description available]","isPartOf":{"@id":"https://gambitbsm.github.io/#/schema/website/1"},"about":{"@id":"https://gambitbsm.github.io/#/schema/organization/1"},"datePublished":"0001-01-01T00:00:00CET","dateModified":"0001-01-01T00:00:00CET","breadcrumb":{"@id":"https://gambitbsm.github.io/documentation/code/files/examplebit__a_8cpp/#/schema/breadcrumb/1"},"primaryImageOfPage":{"@id":"https://gambitbsm.github.io/documentation/code/files/examplebit__a_8cpp/#/schema/image/2"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://gambitbsm.github.io/documentation/code/files/examplebit__a_8cpp/"]}]},{"@type":"BreadcrumbList","@id":"https://gambitbsm.github.io/documentation/code/files/examplebit__a_8cpp/#/schema/breadcrumb/1","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"https://gambitbsm.github.io/","url":"https://gambitbsm.github.io/","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@type":"WebPage","@id":"https://gambitbsm.github.io/documentation/","url":"https://gambitbsm.github.io/documentation/","name":"Documentation"}},{"@type":"ListItem","position":3,"item":{"@type":"WebPage","@id":"https://gambitbsm.github.io/documentation/code/","url":"https://gambitbsm.github.io/documentation/code/","name":"Code"}},{"@type":"ListItem","position":4,"item":{"@type":"WebPage","@id":"https://gambitbsm.github.io/documentation/code/files/","url":"https://gambitbsm.github.io/documentation/code/files/","name":"Files"}},{"@type":"ListItem","position":5,"item":{"@id":"https://gambitbsm.github.io/documentation/code/files/examplebit__a_8cpp/"}}]},{"@context":"https://schema.org","@graph":[{"@type":"ImageObject","@id":"https://gambitbsm.github.io/documentation/code/files/examplebit__a_8cpp/#/schema/image/2","url":"https://gambitbsm.github.io/gambit_logo.png","contentUrl":"https://gambitbsm.github.io/gambit_logo.png","caption":"file src\/ExampleBit_A.cpp"}]}]}</script><meta name=theme-color content="#fff"><link rel=icon href=https://gambitbsm.github.io/favicon.ico sizes=any><link rel=icon type=image/svg+xml href=https://gambitbsm.github.io/favicon.svg><link rel=apple-touch-icon sizes=180x180 href=https://gambitbsm.github.io/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://gambitbsm.github.io/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://gambitbsm.github.io/favicon-16x16.png><link rel=manifest crossorigin=use-credentials href=https://gambitbsm.github.io/site.webmanifest></head><body class="documentation single light"><div class=sticky-top><div class=header-bar></div><header class="navbar navbar-expand-md navbar-light doks-navbar"><nav class="container-xxl flex-wrap flex-md-nowrap" aria-label="Main navigation"><a class="navbar-brand p-0 me-auto" href=https://gambitbsm.github.io/ aria-label=GAMBIT><img class=logo-light src=https://gambitbsm.github.io//images/gambit_logo.png width=50px>
<img class="logo-dark d-none" src=https://gambitbsm.github.io//images/gambit_logo.png width=50px>
GAMBIT</a>
<button class="btn btn-menu order-2 d-block d-lg-none" type=button data-bs-toggle=offcanvas data-bs-target=#offcanvasDoks aria-controls=offcanvasDoks aria-label="Open main menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="18" x2="21" y2="18"/></svg></button><div class="offcanvas offcanvas-end border-0 py-lg-1" tabindex=-1 id=offcanvasDoks data-bs-backdrop=true aria-labelledby=offcanvasDoksLabel><div class="header-bar d-lg-none"></div><div class="offcanvas-header d-lg-none"><h2 class="h5 offcanvas-title ps-2" id=offcanvasDoksLabel><a class=text-dark href=/>GAMBIT</a></h2><button type=button class="btn-close text-reset me-2" data-bs-dismiss=offcanvas aria-label="Close main menu"></button></div><div class="offcanvas-body p-4 p-lg-0"><ul class="nav flex-column flex-lg-row align-items-lg-center mt-2 mt-lg-0 ms-lg-2 me-lg-auto"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle ps-0 py-1" href=# id=navbarDropdownMenuLink role=button data-bs-toggle=dropdown aria-expanded=false>Releases
<span class=dropdown-caret><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"/></svg></span></a><ul class="dropdown-menu dropdown-menu-main shadow rounded border-0" aria-labelledby=navbarDropdownMenuLink><li><a class=dropdown-item href=https://github.com/GambitBSM/gambit_2.2>GAMBIT 2-2 ⧉</a></li><li><a class=dropdown-item href=https://github.com/GambitBSM/gambit_2.1>GAMBIT 2-1 ⧉</a></li><li><a class=dropdown-item href=https://github.com/GambitBSM/gambit_2.2/tags>All releases ⧉</a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle ps-0 py-1" href=# id=navbarDropdownMenuLink role=button data-bs-toggle=dropdown aria-expanded=false>Documentation
<span class=dropdown-caret><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"/></svg></span></a><ul class="dropdown-menu dropdown-menu-main shadow rounded border-0" aria-labelledby=navbarDropdownMenuLink><li><a class=dropdown-item href=/documentation/installation/introduction/>Installation</a></li><li><a class=dropdown-item href=/documentation/examples/colliderbit_example>Examples</a></li><li><a class=dropdown-item href=/documentation/help/common_problems_and_questions/>Help</a></li><li><a class=dropdown-item href=/documentation/code/index_classes>Code Reference</a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle ps-0 py-1" href=# id=navbarDropdownMenuLink role=button data-bs-toggle=dropdown aria-expanded=false>Community
<span class=dropdown-caret><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"/></svg></span></a><ul class="dropdown-menu dropdown-menu-main shadow rounded border-0" aria-labelledby=navbarDropdownMenuLink><li><a class=dropdown-item href=/community/publications/>Publications</a></li><li><a class=dropdown-item href=/community/talks/>Talks</a></li><li><a class=dropdown-item href=/community/members/>Members</a></li><li><a class="dropdown-item active" href=/community/code_of_conduct/ aria-current=true>Code of Conduct</a></li><li><a class=dropdown-item href=/community/contact/>Contact</a></li></ul></li></ul><hr class="text-black-50 my-4 d-lg-none"><form class="doks-search position-relative flex-grow-1 ms-lg-auto me-lg-2"><input id=search class="form-control is-search" type=search placeholder="Search site..." aria-label="Search site..." autocomplete=off><div id=suggestions class="shadow bg-white rounded d-none"></div></form><hr class="text-black-50 my-4 d-lg-none"><ul class="nav flex-column flex-lg-row"><li class=nav-item><a class="nav-link social-link" href=https://github.com/GambitBSM><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg><small class="ms-2 d-lg-none">GitHub</small></a></li></ul><hr class="text-black-50 my-4 d-lg-none"><button id=mode class="btn btn-link" type=button aria-label="Toggle user interface mode">
<span class=toggle-dark><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg></span><span class=toggle-light><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></span></button></div></div></nav></header></div><div class="wrap container-xxl" role=document><div class=content><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar"><nav class=docs-links aria-label="Main navigation"><ul class="list-unstyled collapsible-sidebar"><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-installation aria-expanded=false>
Installation</button><div class=collapse id=section-installation><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/documentation/installation/introduction/>Getting Started</a></li><li><a class="docs-link rounded" href=/documentation/installation/docker_usage/>Docker Usage</a></li><li><a class="docs-link rounded" href=/documentation/installation/installation_for_linux/>Installation for Linux</a></li><li><a class="docs-link rounded" href=/documentation/installation/installation_for_windows/>Installation for Windows</a></li><li><a class="docs-link rounded" href=/documentation/installation/installation_for_macos/>Installation for macOS</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-examples aria-expanded=false>
Examples</button><div class=collapse id=section-examples><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/documentation/examples/colliderbit_example/>ColliderBit Example</a></li><li><a class="docs-link rounded" href=/documentation/examples/anotherbit/>AnotherBit</a></li><li><a class="docs-link rounded" href=/documentation/examples/anotherbit2/>AnotherBit2</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-help aria-expanded=false>
Help</button><div class=collapse id=section-help><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/documentation/help/common_problems_and_questions/>Common Problems and Questions</a></li><li><a class="docs-link rounded" href=/documentation/help/compiler_matrix/>Compiler Matrix</a></li><li><a class="docs-link rounded" href=/documentation/help/known_issues/>Known Issues</a></li><li><a class="docs-link rounded" href=/documentation/help/configuration_examples/>Configuration Examples</a></li></ul></div></li><li class=mb-1><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle=collapse data-bs-target=#section-code aria-expanded=false>
Code Reference</button><div class=collapse id=section-code><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href=/documentation/code/index_classes/>Classes</a></li><li><a class="docs-link rounded" href=/documentation/code/index_files/>Files</a></li><li><a class="docs-link rounded" href=/documentation/code/index_pages/>Pages</a></li><li><a class="docs-link rounded" href=/documentation/code/index_namespaces/>Namespaces</a></li></ul></div></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class=d-xl-none><button class="btn btn-outline-primary btn-sm doks-toc-toggle collapsed" type=button data-bs-toggle=collapse data-bs-target=#onThisPage aria-controls=doks-docs-nav aria-expanded=false aria-label="Toggle On this page navigation">
<span>On this page</span>
<span><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"/><polyline points="7 6 12 11 17 6"/></svg><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"/><polyline points="17 18 12 13 7 18"/></svg></span></button><div class=collapse id=onThisPage><div class="card card-body mt-3 py-1"><div class=page-links><nav id=TableOfContents><ul><li><a href=#namespaces>Namespaces</a></li><li><a href=#detailed-description>Detailed Description</a></li><li><a href=#source-code>Source code</a></li></ul></nav></div></div></div></div><div class="page-links d-none d-xl-block"><h3>On this page</h3><nav id=TableOfContents><ul><li><a href=#namespaces>Namespaces</a></li><li><a href=#detailed-description>Detailed Description</a></li><li><a href=#source-code>Source code</a></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9 mx-xl-auto"><nav aria-label=breadcrumb><ol class=breadcrumb><li class=breadcrumb-item><a href=/>Home</a></li><li class=breadcrumb-item><a href=/documentation/>Documentation</a></li><li class=breadcrumb-item><a href=/documentation/code/>Code Reference</a></li><li class="breadcrumb-item active" aria-current=page>file src/ExampleBit_A.cpp</li></ol></nav><p class=lead></p><h1 id=file-src-examplebit-a-cpp>file src/ExampleBit_A.cpp</h1><p>[No description available] <a href=#detailed-description>More&mldr;</a></p><h2 id=namespaces>Namespaces <a href=#namespaces class=anchor aria-hidden=true>#</a></h2><table><thead><tr><th>Name</th></tr></thead><tbody><tr><td><strong><a href=/documentation/code/namespaces/namespacegambit/>Gambit</a></strong><br>TODO: see if we can use this one:</td></tr><tr><td><strong><a href=/documentation/code/namespaces/namespacegambit_1_1examplebit__a/>Gambit::ExampleBit_A</a></strong></td></tr></tbody></table><h2 id=detailed-description>Detailed Description <a href=#detailed-description class=anchor aria-hidden=true>#</a></h2><p><strong>Author</strong>:</p><ul><li>Pat Scott</li><li>Christoph Weniger</li><li>Anders Kvellestad (<a href=mailto:anders.kvellestad@fys.uio.no>anders.kvellestad@fys.uio.no</a>)</li><li>Ben Farmer (<a href=mailto:ben.farmer@gmail.com>ben.farmer@gmail.com</a>)</li></ul><p><strong>Date</strong>:</p><ul><li>2012 Nov</li><li>2013 Jan, Feb, May, Dec</li><li>2013 Jan</li><li>2013 Nov</li><li>2015 Sep</li></ul><p>Functions of module ExampleBit_A.</p><p>Put your functions in files like this if you wish to add observables or likelihoods to this module.</p><hr><p>Authors (add name and date if you modify):</p><hr><h2 id=source-code>Source code <a href=#source-code class=anchor aria-hidden=true>#</a></h2><pre><code>//   GAMBIT: Global and Modular BSM Inference Tool
//   *********************************************
///  \file
///
///  Functions of module ExampleBit_A.
///
///  Put your functions in files like this
///  if you wish to add observables or likelihoods
///  to this module.
///
///  *********************************************
///
///  Authors (add name and date if you modify):
///
///  \author Pat Scott
///    \date 2012 Nov
///    \date 2013 Jan, Feb, May, Dec
///
///  \author Christoph Weniger
///    \date 2013 Jan
///
///  \author Anders Kvellestad
///          (anders.kvellestad@fys.uio.no)
///  \date 2013 Nov
///
///  \author Ben Farmer
///          (ben.farmer@gmail.com)
///  \date 2015 Sep
///
///  *********************************************

#include &lt;string&gt;
#include &lt;iostream&gt;
#include &lt;cmath&gt;
#include &lt;functional&gt;
#include &lt;omp.h&gt;
#include &lt;time.h&gt; // For nanosleep (posix only)

#include &quot;gambit/Elements/gambit_module_headers.hpp&quot;
#include &quot;gambit/ExampleBit_A/ExampleBit_A_rollcall.hpp&quot;


namespace Gambit
{

  namespace ExampleBit_A
  {
    using namespace LogTags;

    /// \name Helper functions
    /// Not wrapped in rollcall header.
    /// @{

    /// Pointer to some function
    double(*callback_pointer)(int&amp;, const double&amp;);

    /// Some other example function
    double some_other_function(int &amp;input)
    {
      std::ostringstream ss;
      ss &lt;&lt; &quot;  This is some_other_function, invoked with argument &quot; &lt;&lt; input;
      logger().send(ss.str(),info);
      double offset = 2.0;
      return callback_pointer(input, offset);
    }

    /// Un-normalised gaussian log-likelihood
    double logf (double x, double mu, double sig)
    {
      return -0.5*log(sig*sig) -0.5*pow(x-mu,2)/(sig*sig);
    }

    /// @}

    //************************************************************

    /// \name Module functions
    /// @{
    void nevents_pred      (double &amp;result)    { static double count = 3.5; result = count++; cout &lt;&lt; &quot;My xsection dep: &quot; &lt;&lt; *Pipes::nevents_pred::Dep::xsection &lt;&lt; endl;}
    void nevents_like      (double &amp;result)    { result = 2.0 * (*Pipes::nevents_like::Dep::eventAccumulation); }
    void particle_identity (str    &amp;result)    { result = &quot;fakion&quot;; }

    void nevents_pred_rounded(int &amp;result)
    {
      result = (int) (*Pipes::nevents_pred_rounded::Dep::nevents);
      // Randomly raise some ficticious alarms about this point, with probability x,
      // where x is given by the input yaml option or a default of 0.5.
      double x = 1.0-Pipes::nevents_pred_rounded::runOptions-&gt;getValueOrDef&lt;double&gt;(0.5, &quot;probability_of_validity&quot;);
      if (Random::draw() &lt; x)
      {
        //Example of how to raise an error from a module function.
        //ExampleBit_A_error().raise(LOCAL_INFO,&quot;Damn, this integer event count is bad.&quot;);
        //Example of how to declare a point invalid.
        invalid_point().raise(&quot;I don't like this point.&quot;);
      }
      // Example of how to check if computation of another capability depends on this one at all.
      cout &lt;&lt; &quot;My name is nevents_pred_rounded, and I am &quot; &lt;&lt;
       (Pipes::nevents_pred_rounded::Downstream::neededFor(&quot;nevents&quot;) ?
       &quot;proud to contribute to the calculation of nevents today.&quot; :
       &quot;completely superfluous to the calculation of nevents.&quot;)
      &lt;&lt; endl;

    }

    void test_sigma(double &amp;result)
    {
      result = 1.; //trivial test
    }

    void function_pointer_retriever( double(*&amp;result)(int&amp;) )
    {
      using namespace Pipes::function_pointer_retriever;
      //Two ways to return this result, depending on how the group dependency BEgroup::external_funcs is fulfilled:
      if (*BEgroup::external_funcs == &quot;externalFunction&quot;)
      {
        //1. A pointer to a fortran function that has been backended (and takes an int as an input by reference):
        result = BEreq::externalFunction.pointer();
      }
      else if (*BEgroup::external_funcs == &quot;externalComplicatedFunction&quot;)
      {
        //2. A pointer to a local C++ function (that, e.g. calls a function provided by a backend)
        callback_pointer = BEreq::externalComplicatedFunction.pointer();
        result = &amp;some_other_function;
      }
      else ExampleBit_A_error().raise(LOCAL_INFO,&quot;Unrecognised choice from external_funcs BEgroup.&quot;);
    }


    /// Example of interacting with models
    void example_damu (double &amp;result)
    {
      using namespace Pipes::example_damu;
      std::cout &lt;&lt; &quot;In ExampleBit_A, function damu&quot; &lt;&lt; std::endl;
      logger() &lt;&lt; &quot;Is CMSSM being scanned? &quot; &lt;&lt; ModelInUse(&quot;CMSSM&quot;) &lt;&lt; endl;
      logger() &lt;&lt; &quot;Is NUHM1 being scanned? &quot; &lt;&lt; ModelInUse(&quot;NUHM1&quot;) &lt;&lt; endl;
      logger() &lt;&lt; &quot;Is NormalDist being scanned? &quot; &lt;&lt; ModelInUse(&quot;NormalDist&quot;) &lt;&lt; endl;;
      logger() &lt;&lt; &quot;Is ScalarSingletDM_Z2 being scanned? &quot;  &lt;&lt; ModelInUse(&quot;ScalarSingletDM_Z2&quot;);;
      logger() &lt;&lt; info &lt;&lt; EOM;
      std::cout &lt;&lt; &quot;  Printing parameter values:&quot; &lt;&lt; std::endl;
      std::cout &lt;&lt; &quot;mu: &quot; &lt;&lt; *Param[&quot;mu&quot;] &lt;&lt; std::endl;
      std::cout &lt;&lt; &quot;sigma: &quot; &lt;&lt; *Param[&quot;sigma&quot;] &lt;&lt; std::endl;
      //A safety_bucket containing the ModelParameters object itself is also
      //available as a dependency at Pipes::&lt;functionname&gt;::Dep::&lt;modelname&gt;_parameters,
      //in case you want to do something more advanced than just read off the
      //parameter values.
      result = *Param[&quot;p1&quot;] * *Param[&quot;p2&quot;];
    }

    /// Likelihood function for fitting the population parameters of a
    /// normal distribution (with hard-coded &quot;observations&quot;)
    /// Mainly used for testing scanning algorthims
    void lnL_gaussian (double &amp;result)
    {
      using namespace Pipes::lnL_gaussian;

      // Say we have a sample of 20 drawn from a normal distribution with
      // parameters muTrue and sigmaTrue. Let the sample mean and standard
      // deviation be as follows (this is our data):
      static const int N = 20;
      static const double samples [] = {
        21.32034213,  20.39713359,  19.27957134,  19.81839231,
        20.89474358,  20.11058756,  22.38214557,  21.41479798,
        23.49896999,  17.55991187,  24.9921142 ,  23.90166585,
        20.97913273,  18.59180551,  23.49038072,  19.08201714,
        21.19538797,  16.42544039,  18.93568891,  22.40925288
        };

      double loglTotal = 0.;

      // The loglikelihood value for the hypothesised parameters is then:
      if (ModelInUse(&quot;NormalDist&quot;))
      {
        for (int i=0; i&lt;N; ++i)
        {
          double mu = *Param[&quot;mu&quot;];
          double sigma = *Param[&quot;sigma&quot;];
          if(Utils::isnan(mu) or Utils::isnan(sigma))
          {
            ExampleBit_A_error().raise(LOCAL_INFO,&quot;NaN detected in input parameters for model&quot;
            &quot; NormalDist! This may indicate a bug in the scanner plugin you are using.&quot;);
          }
          if(sigma==0.)
          {
             // likelihood is nan if sigma=0, so the point is invalid.
             invalid_point().raise(&quot;NormalDist::sigma = 0; likelihood is NaN, point invalid.&quot;);
          }

          loglTotal += logf(samples[i], mu, sigma);
        }
      }
      else
      {
         ExampleBit_A_error().raise(LOCAL_INFO,&quot;Whoops, you are not scanning the model &quot;
          &quot; NormalDist! There is probably a bug ExampleBit_A_rollcall.hpp; this module &quot;
          &quot; function should have ALLOW_MODELS(NormalDist) defined.&quot;);
      }

      // Randomly raise some ficticious alarms about this point, with probability x,
      // where x is given by the input yaml option or a default of 1.
      double x = 1.0-runOptions-&gt;getValueOrDef&lt;double&gt;(1., &quot;probability_of_validity&quot;);
      if (Random::draw() &lt; x)
      {
        invalid_point().raise(&quot;I don't like this point.&quot;);
      }

      // Artificially slow down likelihood evaluations
      // Important for debugging new scanner plugins.
      double eval_time = runOptions-&gt;getValueOrDef&lt;double&gt;(-1, &quot;eval_time&quot;); // Measured in seconds
      //std::cout &lt;&lt; &quot;eval_time:&quot; &lt;&lt; eval_time &lt;&lt;std::endl;
      if(eval_time&gt;0)
      {
         struct timespec sleeptime;
         sleeptime.tv_sec = floor(eval_time);
         sleeptime.tv_nsec = floor((eval_time-floor(eval_time))*1e9); // Allow user to choose fractions of second
         //std::cout &lt;&lt; &quot;Sleeping for &quot;&lt;&lt;sleeptime.tv_sec&lt;&lt;&quot; seconds and &quot;&lt;&lt;sleeptime.tv_nsec&lt;&lt;&quot; nanoseconds&quot; &lt;&lt;std::endl;
         nanosleep(&amp;sleeptime,NULL);
      }

      // Example use of suspicious point exception with a 1% chance, specifying message, integer code and whether to print to cout
      if (Random::draw() &lt; 0.01)
      {
        Suspicious_point_exception().raise(&quot;This is a demo for using suspicious points.&quot;,66,true);
      }

      result = loglTotal;
    }


    /// \name Loopmanager Examples
    /// Some example functions for using loops within the dependency structure
    /// @{


    /// Run a fake 'event loop'
    void eventLoopManager()
    {
      using namespace Pipes::eventLoopManager;
      unsigned int nEvents = 200;         // Number of times to run the loop

      //There are three things available from the Loops namespace in loop managers like this one:
      //  Loop::executeIteration(int iteration_number) -- executes a single iteration of the ordered
      //                                                  set of nested functions, passing them the iteration_number.
      //  Loop::done -- boolean flag indicating if the loop should terminate or not
      //  Loop::reset() -- reset the 'done' flag

      //A simple loop example without OpenMP.  Commented out for now.
      //unsigned int nEvents = 20;       // Number of times to run the loop
      //for(unsigned long it = 0; it &lt; nEvents; it++)
      //{
      //  cout &lt;&lt; &quot;This is iteration &quot; &lt;&lt; it+1 &lt;&lt; &quot; of &quot; &lt;&lt; nEvents &lt;&lt; &quot; being run by eventLoopManager.&quot; &lt;&lt; endl;
      //  Loop::executeIteration(it);    // This is a (member) function pointer, so *Loop::executeIteration(it) works fine too.
      //}

      logger() &lt;&lt; &quot;Running eventLoopManager&quot; &lt;&lt; EOM;

      //A simple loop example using OpenMP
      unsigned int it = 0;
      Loop::executeIteration(it);         //Do the zero iteration separately to allow nested functions to self-init.
      #pragma omp parallel
      {
        while(not *Loop::done and it&lt;nEvents and not piped_errors.inquire())
        { Loop::executeIteration(it++); }
      }
      // Raise any piped exceptions that occurred in the loop functors
      piped_warnings.check(ExampleBit_A_warning());
      piped_errors.check(ExampleBit_A_error());

      // Start over again, just to demonstrate the reset function.  This just sets the Loop::done flag
      // false again.  Note that when you do this, you need to beware to re-initialise the nested functions themselves
      // by re-running iteration zero again, unless you want them to just set Loop::done true again straight away.
      std::cout &lt;&lt; &quot;Resetting loop!&quot; &lt;&lt; std::endl;
      it = 0;
      Loop::reset();
      Loop::executeIteration(it);         //Do the zero iteration separately to allow nested functions to self-init.
      #pragma omp parallel
      {
        while(not *Loop::done and it&lt;nEvents and not piped_errors.inquire())
        { Loop::executeIteration(it++); }
      }

      //Do the final iteration separately to make the final result 'serially accessible' to functions that run after this one.
      Loop::executeIteration(it++);

    }

    /// Produces a random floating-point 'event count' between 0 and 5.
    void exampleEventGen(float &amp;result)
    {
      using namespace Pipes::exampleEventGen;
      result = Random::draw()*5.0;                 // Generate and return the random number

      // Print some diagnostic info
      //#pragma omp critical (print)
      //{
      //  cout&lt;&lt;&quot;  Running exampleEventGen in iteration &quot;&lt;&lt;*Loop::iteration&lt;&lt;endl;
      //}

      // Test MPI shutdown on random failure
      // if(result&lt;0.0001*5.0) // shut down with 0.01% probability
      // {
      //   // Don't raise errors like this when inside a looped region:
      //   //   ExampleBit_A_error().raise(LOCAL_INFO,&quot;Error triggered for testing purposes.&quot;);
      //   // Must raise them like this instead:
      //   piped_errors.request(LOCAL_INFO, &quot;Error triggered for testing purposes.&quot;);
      // }

      // Test loggers during parallel block
      logger() &lt;&lt; &quot;Thread &quot;&lt;&lt;omp_get_thread_num()&lt;&lt;&quot;: Running exampleEventGen in iteration &quot;&lt;&lt;*Loop::iteration&lt;&lt;EOM;

      //if (result &gt; 2.0) invalid_point().raise(&quot;This point is annoying.&quot;);
    }

    /// Rounds an event count to the nearest integer
    void exampleCut(int &amp;result)
    {
      static bool first = true;
      using namespace Pipes::exampleCut;
      result = (int) *Dep::event;
      logger()&lt;&lt;&quot;  Running exampleCut in iteration &quot;&lt;&lt;*Loop::iteration&lt;&lt;endl;
      if (first)
      {
        cout &lt;&lt; &quot;exampleCut has the following dependees: &quot; &lt;&lt; endl;
        for (auto x : *Downstream::dependees) { cout &lt;&lt; &quot;  &quot; &lt;&lt; x &lt;&lt; endl; }

        cout &lt;&lt; &quot;and the following subcaps: &quot; &lt;&lt; endl;
        cout &lt;&lt; &quot;  &quot; &lt;&lt; Downstream::subcaps-&gt;getNames() &lt;&lt; endl;

        str s1 = (Downstream::neededFor(&quot;eventAccumulation&quot;) ? &quot; &quot; : &quot; not &quot;);
        str s2 = (Downstream::neededFor(&quot;xsection&quot;) ? &quot; &quot; : &quot; not &quot;);
        cout &lt;&lt; &quot;It is&quot; &lt;&lt; s1 &lt;&lt; &quot;needed for eventAccumulation.&quot; &lt;&lt; endl;
        cout &lt;&lt; &quot;It is&quot; &lt;&lt; s2 &lt;&lt; &quot;needed for xsection.&quot; &lt;&lt; endl;
        first = false;
      }
    }

    /// Adds an integral event count to a total number of accumulated events.
    void eventAccumulator(int &amp;result)
    {
      //There are basically just two things available in nested functions from the Loops namespace:
      //  int* Loop::iteration -- the iteration number passed down directly by the function managing the loop that this one runs within.
      //  void Loop::wrapup()  -- a function to call if you want to cause the loop to end.
      //You can always get at OpenMP functions too (omp_get_thread_num, omp_get_ancestor_thread_num, etc) -- but it is better not to assume
      //too much about the other functions that might be managing this one, either directly or indirectly.

      using namespace Pipes::eventAccumulator;

      // Do the actual computations in each thread seperately
      int increment = *Dep::event + 1;

      // Only let one thread at a time mess with the accumulator.
      #pragma omp critical (eventAccumulator_update)
      {
        static int accumulatedCounts = 0;
        // In the first iteration of a loop
        if (*Loop::iteration == 0)
        {
          // Zero the total accumulated counts
          accumulatedCounts = 0;
        }
        else
        {
          // Add the latest event count to the total
          accumulatedCounts += increment;
        }
        // Return the current total
        result = accumulatedCounts;
      }

      // Print some diagnostic info
      //#pragma omp critical (print)
      //{
      //  cout&lt;&lt;&quot;  Running eventAccumulator in iteration &quot;&lt;&lt;*Loop::iteration&lt;&lt;endl;
      //  cout&lt;&lt;&quot;  Retrieved event count: &quot;&lt;&lt;*Dep::event&lt;&lt;endl;
      //  cout&lt;&lt;&quot;  I have thread index: &quot;&lt;&lt;omp_get_thread_num()&lt;&lt;endl;
      //  cout&lt;&lt;&quot;  Current total counts is: &quot;&lt;&lt;result&lt;&lt;endl;
      //}

      // If we have reached 50 counts, quit the loop.
      if (result &gt;= 50) { Loop::wrapup(); }

    }

    void do_Farray_stuff (double &amp;result)
    {
      using namespace Pipes::do_Farray_stuff;
      using std::cout;
      using std::endl;
      libFarrayTest_CB_type  *commonBlock  = BEreq::libFarrayTestCommonBlock.pointer();
      libFarrayTest_CB2_type *commonBlock2 = BEreq::libFarrayTestCommonBlock2.pointer();
      libFarrayTest_CB3_type *commonBlock3 = BEreq::libFarrayTestCommonBlock3.pointer();

      cout &lt;&lt; &quot;do_Farray_stuff has been summoned!&quot; &lt;&lt; endl;
      cout &lt;&lt; &quot;Ph'nglui mglw'nafh Cthulhu R'lyeh wgah'nagl fhtagn&quot; &lt;&lt; endl;
      cout &lt;&lt; &quot;Calling fillArrays to reset array contents&quot; &lt;&lt; endl;
      BEreq::libFarrayTest_fillArrays();
      cout &lt;&lt; &quot;Calling printStuff...&quot; &lt;&lt; endl;
      BEreq::libFarrayTest_printStuff();
      cout &lt;&lt; &quot;Setting d(2,0,-1) = 99 and d(1,1,0) = 77 &quot; &lt;&lt; endl;
      commonBlock-&gt;d(2,0,-1) = 99;
      commonBlock-&gt;d(1,1,0) = 77;
      cout &lt;&lt; &quot;Calling printStuff again...&quot; &lt;&lt; endl;
      BEreq::libFarrayTest_printStuff();

      // Using pointers here is not necessary
      cout &lt;&lt; endl &lt;&lt; &quot;Retrieving pointer to doubleFuncArray...&quot; &lt;&lt; endl;
      Fdouble(*function_pointer)(Farray&lt; Fdouble,1,3&gt;&amp;) = BEreq::libFarrayTest_doubleFuncArray.pointer();
      cout &lt;&lt; &quot;Calling doubleFuncArray with commonblock element b as argument...&quot; &lt;&lt; endl;
      // Passing farray to Fortran function
      double tmp = function_pointer(commonBlock-&gt;b);
      cout &lt;&lt; &quot;Returned value: &quot; &lt;&lt; tmp &lt;&lt; endl;

      // Example on how to pass an farray to a Fortran function that is declared to take Fdouble* instead of Farray&lt; Fdouble,1,3&gt;&amp;
      // This should only be necessary in very special cases, where you need to pass arrays with different index ranges than those specified in the function.
      cout &lt;&lt; &quot;Calling doubleFuncArray2 with commonblock element b as argument...&quot; &lt;&lt; endl;
      tmp = BEreq::libFarrayTest_doubleFuncArray2(&amp;(commonBlock-&gt;b.array[0]));
      cout &lt;&lt; &quot;Returned value: &quot; &lt;&lt; tmp &lt;&lt; endl;

      cout &lt;&lt; endl &lt;&lt; &quot;Calling fptrRoutine with commonblock elements b and c and function doubleFuncArray as arguments...&quot; &lt;&lt; endl;
      BEreq::libFarrayTest_fptrRoutine(commonBlock-&gt;b,commonBlock-&gt;c,byVal(function_pointer));
      // Note: byVal is necessary to convert lvalue to rvalue
      // If we instead pass BEreq::libFarrayTest_doubleFuncArray2.pointer() directly, byVal is not necessary
      //cout &lt;&lt; endl &lt;&lt; &quot;Calling fptrRoutine with commonblock elements b and c and function doubleFuncArray as arguments...&quot; &lt;&lt; endl;
      //BEreq::libFarrayTest_fptrRoutine(commonBlock-&gt;b.array,commonBlock-&gt;c,BEreq::libFarrayTest_doubleFuncArray2.pointer());

      cout &lt;&lt; &quot;Creating a 2-dimensional array in c++ and passing it to Fortran:&quot; &lt;&lt; endl;
      Farray&lt;double, 1,2, 2,3&gt; arr;
      arr(1,2) = 12;
      arr(1,3) = 13;
      arr(2,2) = 22;
      arr(2,3) = 23;
      tmp = BEreq::libFarrayTest_doubleFuncArray3(arr);
      cout &lt;&lt; &quot;Return value: &quot; &lt;&lt; tmp &lt;&lt; endl &lt;&lt; endl;

      cout &lt;&lt; &quot;Playing around with commmonBlock2:&quot; &lt;&lt; endl;

      cout &lt;&lt; &quot;Reading charb(3) with and without trailing spaces. Result:&quot; &lt;&lt; endl;
      std::string trail   = commonBlock2-&gt;charb(3)-&gt;str();
      std::string noTrail = commonBlock2-&gt;charb(3)-&gt;trimmed_str();
      cout &lt;&lt; trail   &lt;&lt; &quot;&lt;-- string ends here&quot; &lt;&lt; endl;
      cout &lt;&lt; noTrail &lt;&lt; &quot;&lt;-- string ends here&quot; &lt;&lt; endl &lt;&lt; endl;

      cout &lt;&lt; &quot;Reading the elements of charc from c++:&quot; &lt;&lt; endl;
      cout &lt;&lt; &quot;(1,-1):&quot; &lt;&lt; commonBlock2-&gt;charc(1,-1)-&gt;trimmed_str() &lt;&lt; &quot;  (1,0):&quot; &lt;&lt; commonBlock2-&gt;charc(1,0)-&gt;trimmed_str() &lt;&lt; endl;
      cout &lt;&lt; &quot;(2,-1):&quot; &lt;&lt; commonBlock2-&gt;charc(2,-1)-&gt;trimmed_str() &lt;&lt; &quot;  (2,0):&quot; &lt;&lt; commonBlock2-&gt;charc(2,0)-&gt;trimmed_str() &lt;&lt; endl &lt;&lt; endl;

      cout &lt;&lt; &quot;Setting charc(2,0) = chara.&quot; &lt;&lt; endl;
      *commonBlock2-&gt;charc(2,0)=commonBlock2-&gt;chara;
      cout &lt;&lt; &quot;Setting charc(1,-1) = \&quot;WIN!567\&quot;, which will be truncated.&quot; &lt;&lt; endl;
      *commonBlock2-&gt;charc(1,-1) = &quot;WIN!567&quot;;
      cout &lt;&lt; &quot;Setting charb(1) = \&quot;ha!\&quot;.&quot; &lt;&lt; endl;
      *commonBlock2-&gt;charb(1) = &quot;ha!&quot;;
      cout &lt;&lt; &quot;Setting charb(2) = chara.&quot; &lt;&lt; endl;
      *commonBlock2-&gt;charb(2) = commonBlock2-&gt;chara;

      cout &lt;&lt; &quot;Calling printStuff...&quot; &lt;&lt; endl;
      BEreq::libFarrayTest_printStuff();

      cout &lt;&lt; &quot;Getting value of e:&quot; &lt;&lt; endl;
      cout &lt;&lt; commonBlock2-&gt;e &lt;&lt; endl &lt;&lt; endl;

      cout &lt;&lt; &quot;Reading complex numbers from Fortran: &quot; &lt;&lt; commonBlock3-&gt;cpa.re &lt;&lt; &quot; + &quot; &lt;&lt; commonBlock3-&gt;cpa.im &lt;&lt; &quot;i&quot; &lt;&lt; endl;
      cout &lt;&lt; &quot;Reading complex numbers from Fortran: &quot; &lt;&lt; commonBlock3-&gt;cpb.re &lt;&lt; &quot; + &quot; &lt;&lt; commonBlock3-&gt;cpb.im &lt;&lt; &quot;i&quot; &lt;&lt; endl;
      cout &lt;&lt; &quot;f from commonblock3 = &quot; &lt;&lt; commonBlock3-&gt;f &lt;&lt; endl;

      result = 1.0;

    }

    /// @}

    /// Scale test for various aspects of the printer buffer system
    /// Creates 1000 items to be printed per point
    void large_print(std::map&lt;std::string,double&gt;&amp; result)
    {
        for(int i=0; i&lt;1000; i++)
        {
            std::stringstream ss;
            ss&lt;&lt;i;
            result[ss.str()] = i;
        }
    }

    /// Test inline marginalisation of a Poisson likelihood over a log-normally or Gaussianly-distributed nuisance parameter.
    void marg_poisson_test(double &amp;result)
    {
        using namespace Pipes::marg_poisson_test;
        int n_obs = 5;                      // Actual observed number of events
        double n_predicted_exact = 1.5;     // A contribution to the predicted number of events that is know exactly (e.g. from data-driven background estimate)
        double n_predicted_uncertain = 3.1; // A contribution to the predicted number of events that is not know exactly
        double uncertainty = 0.2;           // A fractional uncertainty on n_predicted_uncertain (e.g. 0.2 from 20% uncertainty on efficencty wrt signal events)

        if (*BEgroup::lnlike_marg_poisson == &quot;lnlike_marg_poisson_lognormal_error&quot;)
        {
          // Use a log-normal distribution for the nuisance parameter (more correct)
          result = BEreq::lnlike_marg_poisson_lognormal_error(n_obs,n_predicted_exact,n_predicted_uncertain,uncertainty);
        }
        else if (*BEgroup::lnlike_marg_poisson == &quot;lnlike_marg_poisson_gaussian_error&quot;)
        {
          // Use a Gaussian distribution for the nuisance parameter (marginally faster)
          result = BEreq::lnlike_marg_poisson_gaussian_error(n_obs,n_predicted_exact,n_predicted_uncertain,uncertainty);
        }
        else ExampleBit_A_error().raise(LOCAL_INFO,&quot;Unrecognised choice from lnlike_marg_poisson BEgroup.&quot;);

        logger() &lt;&lt; &quot;This is marg_poisson_test using req &quot; &lt;&lt; *BEgroup::lnlike_marg_poisson &lt;&lt; &quot;. My result is &quot; &lt;&lt; result &lt;&lt; EOM;
    }


    /// Example of using a BOSSed version of Pythia
    void bossed_pythia_test_function(bool &amp;result)
    {
      using namespace Pipes::bossed_pythia_test_function;

      cout &lt;&lt; &quot;Testing Pythia backend&quot; &lt;&lt; endl;
      cout &lt;&lt; &quot;======================&quot; &lt;&lt; endl;

      static str default_doc_path = GAMBIT_DIR &quot;/Backends/installed/Pythia/&quot; +
                                    Backends::backendInfo().default_version(&quot;Pythia&quot;) +
                                    &quot;/share/Pythia8/xmldoc/&quot;;

      Pythia_default::Pythia8::Pythia pythia(default_doc_path, false);

      pythia.readString(&quot;Beams:eCM = 8000.&quot;);
      pythia.readString(&quot;HardQCD:all = on&quot;);
      pythia.readString(&quot;PhaseSpace:pTHatMin = 20.&quot;);

      pythia.readString(&quot;Next:numberShowInfo = 0&quot;);
      pythia.readString(&quot;Next:numberShowProcess = 0&quot;);
      pythia.readString(&quot;Next:numberShowEvent = 0&quot;);

      pythia.init();

      Pythia_default::Pythia8::Hist mult(&quot;charged multiplicity&quot;, 2, -0.5, 799.5);
      // Begin event loop. Generate event. Skip if error. List first one.
      for (int iEvent = 0; iEvent &lt; 2; ++iEvent) {
        if (!pythia.next()) continue;
        // Find number of all final charged particles and fill histogram.
        int nCharged = 0;
        for (int i = 0; i &lt; pythia.event.size(); ++i)
          if (pythia.event[i].isFinal() &amp;&amp; pythia.event[i].isCharged())
            ++nCharged;
        mult.fill( nCharged );
        cout &lt;&lt; &quot;Event: &quot; &lt;&lt; iEvent &lt;&lt; &quot;   nCharged: &quot; &lt;&lt; nCharged &lt;&lt; endl;
      // End of event loop. Statistics. Histogram. Done.
      }

      pythia.stat();

      cout &lt;&lt; &quot;Done testing Pythia backend&quot; &lt;&lt; endl;
      cout &lt;&lt; &quot;===========================&quot; &lt;&lt; endl;

      result = true;
    }


    /// Tester for C/C++ backend array interfaces
    void Backend_array_test(double &amp;result)
    {
      using namespace Pipes::Backend_array_test;
      double arr1D[10], arr2D[10][10], arr3D[10][10][10];
      arr1D[0] = 5;
      arr1D[9] = 2;
      arr2D[0][0] = 5;
      arr2D[9][0] = 2;
      arr2D[9][9] = 3;
      arr3D[0][0][0] = 5;
      arr3D[9][0][0] = 2;
      arr3D[9][9][9] = 8;
      double test1 = BEreq::example_be_array_1D(&amp;arr1D[0]);
      cout &lt;&lt; &quot;TEST 1 in array_test: &quot; &lt;&lt; test1 &lt;&lt; endl;
      double test2 = BEreq::example_be_array_2D(&amp;arr2D[0]);
      cout &lt;&lt; &quot;TEST 2 in array_test: &quot; &lt;&lt; test2 &lt;&lt; endl;
      double test3 = BEreq::example_be_array_3D(&amp;arr3D[0]);
      cout &lt;&lt; &quot;TEST 3 in array_test: &quot; &lt;&lt; test3 &lt;&lt; endl;
      result = test3;
    }

    /// Flat test likelihood for checking prior distributions
    void flat_likelihood(double &amp;result){ result = 1; }

    /// @}
  }

}
</code></pre><hr><p>Updated on 2022-09-08 at 03:17:36 +0000</p></main></div></div></div><footer class="footer text-muted"><div class=container-xxl><div class=row><div class="col-lg-8 order-last order-lg-first"><ul class=list-inline><li class=list-inline-item>Powered by <a href=https://gohugo.io/>Hugo</a> and <a href=https://getdoks.org/>Doks</a></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class=list-inline><li class=list-inline-item><a href=/license/>License</a></li></ul></div></div></div></footer><script src=/js/bootstrap.min.1da7e648bd316d7b1f1bff21fe81545e73f3c2385908a8c3be87f79a560042318b4b13031e53871d84590710da0df312590e0c60b11a6a1b83dede2f81c30b66.js integrity="sha512-HafmSL0xbXsfG/8h/oFUXnPzwjhZCKjDvof3mlYAQjGLSxMDHlOHHYRZBxDaDfMSWQ4MYLEaahuD3t4vgcMLZg==" crossorigin=anonymous defer></script>
<script src=/js/highlight.min.5b48bc253dc75aeea5fb366ecf700f4925e2b6eb1a1466f2124b722d68148d67bc0a9365d2b8ad9c585161b46372d23b08509a16f1fd518542b894756d4752d0.js integrity="sha512-W0i8JT3HWu6l+zZuz3APSSXitusaFGbyEktyLWgUjWe8CpNl0ritnFhRYbRjctI7CFCaFvH9UYVCuJR1bUdS0A==" crossorigin=anonymous defer></script>
<script src=/main.min.162c56a0426544de0d010e66c56e321579655c400c9aae06a6823e7682de379adadf2165bd416fea191e4e7e410fbf1fd2c35a759aa43ff2e3787067669bf81b.js integrity="sha512-FixWoEJlRN4NAQ5mxW4yFXllXEAMmq4GpoI+doLeN5ra3yFlvUFv6hkeTn5BD78f0sNadZqkP/LjeHBnZpv4Gw==" crossorigin=anonymous defer></script>
<script src=https://gambitbsm.github.io/index.min.4021012e7be524cdb136899cfb4ed5a30832d6abe88076849fce5f5cb102c3da2951236f3e7f2dde2647315dfeb3489809f5cf1460a1ef88f5f75a96a9e82330.js integrity="sha512-QCEBLnvlJM2xNomc+07Vowgy1qvogHaEn85fXLECw9opUSNvPn8t3iZHMV3+s0iYCfXPFGCh74j191qWqegjMA==" crossorigin=anonymous defer></script></body></html>