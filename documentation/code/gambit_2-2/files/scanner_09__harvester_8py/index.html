<!DOCTYPE html><html lang="en-us"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"/><link rel="preload" as="font" href="https://gambitbsm.github.io/fonts/vendor/jost/jost-v4-latin-regular.woff2" type="font/woff2" crossorigin=""/><link rel="preload" as="font" href="https://gambitbsm.github.io/fonts/vendor/jost/jost-v4-latin-500.woff2" type="font/woff2" crossorigin=""/><link rel="preload" as="font" href="https://gambitbsm.github.io/fonts/vendor/jost/jost-v4-latin-700.woff2" type="font/woff2" crossorigin=""/><script>(()=>{var e=localStorage.getItem("theme");e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script><link rel="stylesheet" href="https://gambitbsm.github.io/main.e60a30503f41dfe2a8e849eba3bb572667400d7915356bae7eff31d3e22e4492fc8c0b2ff150168b1139b9c0caad1a20c84c8957336bcc2bba8559379cc39f91.css" integrity="sha512-5gowUD9B3+Ko6Enro7tXJmdADXkVNWuufv8x0+IuRJL8jAsv8VAWixE5ucDKrRogyEyJVzNrzCu6hVk3nMOfkQ==" crossorigin="anonymous"/><noscript><style>img.lazyload{display:none}</style></noscript><meta name="robots" content="index, follow"/><meta name="googlebot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"/><meta name="bingbot" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"/><title>file scripts/scanner+_harvester.py - GAMBIT</title><meta name="description" content="[No description available]"/><link rel="canonical" href="https://gambitbsm.github.io/documentation/code/gambit_2-2/files/scanner_09__harvester_8py/"/><meta property="og:locale" content="en_US"/><meta property="og:type" content="article"/><meta property="og:title" content="file scripts/scanner+_harvester.py"/><meta property="og:description" content="[No description available]"/><meta property="og:url" content="https://gambitbsm.github.io/documentation/code/gambit_2-2/files/scanner_09__harvester_8py/"/><meta property="og:site_name" content="GAMBIT"/><meta property="og:image" content="https://gambitbsm.github.io/gambit_logo.png"/><meta property="og:image:alt" content="GAMBIT"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:site" content=""/><meta name="twitter:creator" content=""/><meta name="twitter:title" content="file scripts/scanner+_harvester.py"/><meta name="twitter:description" content="[No description available]"/><meta name="twitter:image" content="https://gambitbsm.github.io/gambit_logo.png"/><meta name="twitter:image:alt" content="file scripts/scanner+_harvester.py"/><script type="application/ld+json">{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://gambitbsm.github.io/#/schema/organization/1","name":"Doks","url":"https://gambitbsm.github.io/","sameAs":["https://github.com/GambitBSM"],"logo":{"@type":"ImageObject","@id":"https://gambitbsm.github.io/#/schema/image/1","url":"https://gambitbsm.github.io/logo-doks.png","width":450,"height":416,"caption":"Doks"},"image":{"@id":"https://gambitbsm.github.io/#/schema/image/1"}},{"@type":"WebSite","@id":"https://gambitbsm.github.io/#/schema/website/1","url":"https://gambitbsm.github.io/","name":"GAMBIT","description":"Documentation for the Global And Modular BSM Inference Tool","publisher":{"@id":"https://gambitbsm.github.io/#/schema/organization/1"}},{"@type":"WebPage","@id":"https://gambitbsm.github.io/documentation/code/gambit_2-2/files/scanner_09__harvester_8py/","url":"https://gambitbsm.github.io/documentation/code/gambit_2-2/files/scanner_09__harvester_8py/","name":"file scripts\/scanner\u002b_harvester.py","description":"[No description available]","isPartOf":{"@id":"https://gambitbsm.github.io/#/schema/website/1"},"about":{"@id":"https://gambitbsm.github.io/#/schema/organization/1"},"datePublished":"0001-01-01T00:00:00CET","dateModified":"0001-01-01T00:00:00CET","breadcrumb":{"@id":"https://gambitbsm.github.io/documentation/code/gambit_2-2/files/scanner_09__harvester_8py/#/schema/breadcrumb/1"},"primaryImageOfPage":{"@id":"https://gambitbsm.github.io/documentation/code/gambit_2-2/files/scanner_09__harvester_8py/#/schema/image/2"},"inLanguage":"en-US","potentialAction":[{"@type":"ReadAction","target":["https://gambitbsm.github.io/documentation/code/gambit_2-2/files/scanner_09__harvester_8py/"]}]},{"@type":"BreadcrumbList","@id":"https://gambitbsm.github.io/documentation/code/gambit_2-2/files/scanner_09__harvester_8py/#/schema/breadcrumb/1","name":"Breadcrumbs","itemListElement":[{"@type":"ListItem","position":1,"item":{"@type":"WebPage","@id":"https://gambitbsm.github.io/","url":"https://gambitbsm.github.io/","name":"Home"}},{"@type":"ListItem","position":2,"item":{"@type":"WebPage","@id":"https://gambitbsm.github.io/documentation/","url":"https://gambitbsm.github.io/documentation/","name":"Documentation"}},{"@type":"ListItem","position":3,"item":{"@type":"WebPage","@id":"https://gambitbsm.github.io/documentation/code/","url":"https://gambitbsm.github.io/documentation/code/","name":"Code"}},{"@type":"ListItem","position":4,"item":{"@type":"WebPage","@id":"https://gambitbsm.github.io/documentation/code/gambit_2-2/","url":"https://gambitbsm.github.io/documentation/code/gambit_2-2/","name":"Gambit 2 2"}},{"@type":"ListItem","position":5,"item":{"@type":"WebPage","@id":"https://gambitbsm.github.io/documentation/code/gambit_2-2/files/","url":"https://gambitbsm.github.io/documentation/code/gambit_2-2/files/","name":"Files"}},{"@type":"ListItem","position":6,"item":{"@id":"https://gambitbsm.github.io/documentation/code/gambit_2-2/files/scanner_09__harvester_8py/"}}]},{"@context":"https://schema.org","@graph":[{"@type":"ImageObject","@id":"https://gambitbsm.github.io/documentation/code/gambit_2-2/files/scanner_09__harvester_8py/#/schema/image/2","url":"https://gambitbsm.github.io/gambit_logo.png","contentUrl":"https://gambitbsm.github.io/gambit_logo.png","caption":"file scripts\/scanner\u002b_harvester.py"}]}]}</script><meta name="theme-color" content="#fff"/><link rel="icon" href="https://gambitbsm.github.io/favicon.ico" sizes="any"/><link rel="icon" type="image/svg+xml" href="https://gambitbsm.github.io/favicon.svg"/><link rel="apple-touch-icon" sizes="180x180" href="https://gambitbsm.github.io/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="https://gambitbsm.github.io/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="https://gambitbsm.github.io/favicon-16x16.png"/><link rel="manifest" crossorigin="use-credentials" href="https://gambitbsm.github.io/site.webmanifest"/></head><body class="documentation single light"><div class="sticky-top"><div class="header-bar"></div><header class="navbar navbar-expand-md navbar-light doks-navbar"><nav class="container-xxl flex-wrap flex-md-nowrap" aria-label="Main navigation"><a class="navbar-brand p-0 me-auto" href="https://gambitbsm.github.io/" aria-label="GAMBIT"><img class="logo-light" src="https://gambitbsm.github.io//images/gambit_logo.png" width="50px"/>
<img class="logo-dark d-none" src="https://gambitbsm.github.io//images/gambit_logo.png" width="50px"/>
GAMBIT</a>
<button class="btn btn-menu order-2 d-block d-lg-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasDoks" aria-controls="offcanvasDoks" aria-label="Open main menu"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button><div class="offcanvas offcanvas-end border-0 py-lg-1" tabindex="-1" id="offcanvasDoks" data-bs-backdrop="true" aria-labelledby="offcanvasDoksLabel"><div class="header-bar d-lg-none"></div><div class="offcanvas-header d-lg-none"><h2 class="h5 offcanvas-title ps-2" id="offcanvasDoksLabel"><a class="text-dark" href="/">GAMBIT</a></h2><button type="button" class="btn-close text-reset me-2" data-bs-dismiss="offcanvas" aria-label="Close main menu"></button></div><div class="offcanvas-body p-4 p-lg-0"><ul class="nav flex-column flex-lg-row align-items-lg-center mt-2 mt-lg-0 ms-lg-2 me-lg-auto"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle ps-0 py-1" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">Documentation
<span class="dropdown-caret"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"></polyline></svg></span></a><ul class="dropdown-menu dropdown-menu-main shadow rounded border-0" aria-labelledby="navbarDropdownMenuLink"><li><a class="dropdown-item" href="/documentation/installation/introduction/">Installation</a></li><li><a class="dropdown-item" href="/documentation/examples/colliderbit_example">Examples</a></li><li><a class="dropdown-item" href="/documentation/help/faqs/">Help</a></li><li><a class="dropdown-item" href="/documentation/code/gambit_2-2/index_classes">Code Reference</a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle ps-0 py-1" href="#" id="navbarDropdownMenuLink" role="button" data-bs-toggle="dropdown" aria-expanded="false">Community
<span class="dropdown-caret"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-down"><polyline points="6 9 12 15 18 9"></polyline></svg></span></a><ul class="dropdown-menu dropdown-menu-main shadow rounded border-0" aria-labelledby="navbarDropdownMenuLink"><li><a class="dropdown-item" href="/community/publications/">Publications</a></li><li><a class="dropdown-item" href="/community/talks/">Talks</a></li><li><a class="dropdown-item" href="/community/members/">Members</a></li><li><a class="dropdown-item active" href="/community/code_of_conduct/" aria-current="true">Code of Conduct</a></li><li><a class="dropdown-item" href="/community/contact/">Contact</a></li></ul></li><li class="nav-item"><a class="nav-link ps-0 py-1" href="/wiki/general/homepage/">Wiki</a></li></ul><hr class="text-black-50 my-4 d-lg-none"/><form class="doks-search position-relative flex-grow-1 ms-lg-auto me-lg-2"><input id="search" class="form-control is-search" type="search" placeholder="Search site..." aria-label="Search site..." autocomplete="off"/><div id="suggestions" class="shadow bg-white rounded d-none"></div></form><hr class="text-black-50 my-4 d-lg-none"/><ul class="nav flex-column flex-lg-row"><li class="nav-item"><a class="nav-link social-link" href="https://github.com/GambitBSM"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"></path></svg><small class="ms-2 d-lg-none">GitHub</small></a></li></ul><hr class="text-black-50 my-4 d-lg-none"/><button id="mode" class="btn btn-link" type="button" aria-label="Toggle user interface mode">
<span class="toggle-dark"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-moon"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path></svg></span><span class="toggle-light"><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-sun"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></span></button></div></div></nav></header></div><div class="wrap container-xxl" role="document"><div class="content"><div class="row flex-xl-nowrap"><div class="col-lg-5 col-xl-4 docs-sidebar"><nav class="docs-links" aria-label="Main navigation"><ul class="list-unstyled collapsible-sidebar"><li class="mb-1"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#section-installation" aria-expanded="false">
Installation</button><div class="collapse" id="section-installation"><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href="/documentation/installation/introduction/">Getting Started</a></li><li><a class="docs-link rounded" href="/documentation/installation/docker_usage/">Docker Usage</a></li><li><a class="docs-link rounded" href="/documentation/installation/installation_for_linux/">Installation for Linux</a></li><li><a class="docs-link rounded" href="/documentation/installation/installation_for_windows/">Installation for Windows</a></li><li><a class="docs-link rounded" href="/documentation/installation/installation_for_macos/">Installation for macOS</a></li></ul></div></li><li class="mb-1"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#section-examples" aria-expanded="false">
Examples</button><div class="collapse" id="section-examples"><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href="/documentation/examples/colliderbit_example/">ColliderBit Example</a></li><li><a class="docs-link rounded" href="/documentation/examples/anotherbit/">AnotherBit</a></li><li><a class="docs-link rounded" href="/documentation/examples/anotherbit2/">AnotherBit2</a></li></ul></div></li><li class="mb-1"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#section-help" aria-expanded="false">
Help</button><div class="collapse" id="section-help"><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href="/documentation/help/faqs/">FAQs</a></li><li><a class="docs-link rounded" href="/documentation/help/compiler_matrix/">Compiler Matrix</a></li><li><a class="docs-link rounded" href="/documentation/help/known_issues/">Known Issues</a></li><li><a class="docs-link rounded" href="/documentation/help/configuration_examples/">Configuration Examples</a></li></ul></div></li><li class="mb-1"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#section-code" aria-expanded="true">
Code Reference</button><div class="collapse show" id="section-code"><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li class="my-1 ms-3"><button class="btn btn-toggle align-items-center rounded collapsed" data-bs-toggle="collapse" data-bs-target="#section-gambit_2-2" aria-expanded="true">
<font style="color: #5d2f86;" size="-6">release</font>   gambit 2-2</button><div class="collapse show" id="section-gambit_2-2"><ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small"><li><a class="docs-link rounded" href="/documentation/code/gambit_2-2/index_classes/">Classes</a></li><li><a class="docs-link rounded" href="/documentation/code/gambit_2-2/index_files/">Files</a></li><li><a class="docs-link rounded" href="/documentation/code/gambit_2-2/index_pages/">Pages</a></li><li><a class="docs-link rounded" href="/documentation/code/gambit_2-2/index_namespaces/">Namespaces</a></li></ul></div></li></ul></div></li></ul></nav></div><nav class="docs-toc d-none d-xl-block col-xl-3" aria-label="Secondary navigation"><div class="d-xl-none"><button class="btn btn-outline-primary btn-sm doks-toc-toggle collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#onThisPage" aria-controls="doks-docs-nav" aria-expanded="false" aria-label="Toggle On this page navigation">
<span>On this page</span>
<span><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-expand" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Expand</title><polyline points="7 13 12 18 17 13"></polyline><polyline points="7 6 12 11 17 6"></polyline></svg><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" class="doks doks-collapse" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>Collapse</title><polyline points="17 11 12 6 7 11"></polyline><polyline points="17 18 12 13 7 18"></polyline></svg></span></button><div class="collapse" id="onThisPage"><div class="card card-body mt-3 py-1"><div class="page-links"><nav id="TableOfContents"><ul><li><ul><li><a href="#namespaces">Namespaces</a></li><li><a href="#source-code">Source code</a></li></ul></li></ul></nav></div></div></div></div><div class="page-links d-none d-xl-block"><h3>On this page</h3><nav id="TableOfContents"><ul><li><ul><li><a href="#namespaces">Namespaces</a></li><li><a href="#source-code">Source code</a></li></ul></li></ul></nav></div></nav><main class="docs-content col-lg-11 col-xl-9 mx-xl-auto"><nav aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="/">Home</a></li><li class="breadcrumb-item"><a href="/documentation/">Documentation</a></li><li class="breadcrumb-item"><a href="/documentation/code/">Code Reference</a></li><li class="breadcrumb-item"><a href="/documentation/code/gambit_2-2/">gambit_2-2</a></li><li class="breadcrumb-item active" aria-current="page">file scripts/scanner+_harvester.py</li></ol></nav><h1>file scripts/scanner+_harvester.py</h1><p class="lead"></p><p>[No description available]</p><h2 id="namespaces">Namespaces <a href="#namespaces" class="anchor" aria-hidden="true">#</a></h2><table><thead><tr><th>Name</th></tr></thead><tbody><tr><td><strong><a href="/documentation/code/gambit_2-2/namespaces/namespacescanner_09__harvester/">scanner+_harvester</a></strong></td></tr></tbody></table><h2 id="source-code">Source code <a href="#source-code" class="anchor" aria-hidden="true">#</a></h2><pre><code>#!/usr/bin/env python
#
# GAMBIT: Global and Modular BSM Inference Tool
#*********************************************
# \file
#
#  Script to find scanner (and test function)
#  libraries and write various ScannerBit-
#  related config and compilation files.
#
#*********************************************
#
#  Authors (add name and date if you modify):
#
#  \author Pat Scott
#          (p.scott@imperial.ac.uk)
#  \date 2014 Dec
#  \date 2015 Jan
#
#  \author Jonathan Cornell
#  \date 2015 February (removed -rdynamic from
#                       OSX linker flags)
#
#  \author Greg Martinez
#  \date 2015
#
#  \author Ben Farmer
#          (b.farmer@imperial.ac.uk)
#  \date 2018 Oct
#
#*********************************************
import re
import os
import yaml
import shutil
import itertools
import datetime
import sys
import getopt

toolsfile=&#34;./Utils/scripts/harvesting_tools.py&#34;
exec(compile(open(toolsfile, &#34;rb&#34;).read(), toolsfile, &#39;exec&#39;)) # Python 2/3 compatible version of &#39;execfile&#39;

# Updater program
def main(argv):

    exclude_plugins=set([])
    plugins = []
    static_links = &#34;&#34;
    flag = {&#34;missing&#34;: &#34;0&#34;, &#34;found&#34;: &#34;1&#34;, &#34;excluded&#34;: &#34;2&#34;}

    # Handle command line options
    verbose = False
    try:
        build_dir = argv[0]
        opts, args = getopt.getopt(argv[1:],&#34;vx:&#34;,[&#34;verbose&#34;,&#34;exclude-scanners=&#34;])
    except getopt.GetoptError:
        print( &#39;Usage: scanner+_harvester.py build_dir [flags]&#39; )
        print( &#39; flags:&#39; )
        print( &#39;        -v                       : More verbose output&#39; )
        print( &#39;        -x scanner1,scanner2,... : Exclude scanner1, scanner2, etc.&#39; )
        sys.exit(2)
    for opt, arg in opts:
        if opt in (&#39;-v&#39;,&#39;--verbose&#39;):
            verbose = True
            print(&#39;scanner+_harvester.py: verbose=True&#39;)
        elif opt in (&#39;-x&#39;,&#39;--exclude-plugins&#39;,&#39;--exclude-plugin&#39;):
            exclude_plugins.update(neatsplit(&#34;,&#34;,arg))
    # info for the different plugin types
    src_paths = sorted([&#34;./ScannerBit/src/scanners&#34;, &#34;./ScannerBit/src/objectives&#34;])
    inc_paths = sorted([&#34;./ScannerBit/include/gambit/ScannerBit/scanners&#34;, &#34;./ScannerBit/include/gambit/ScannerBit/objectives&#34;])
    plug_type = sorted([&#34;scanner&#34;, &#34;objective&#34;])
    config_files = []
    for ptype in plug_type:
        config_files += [&#34;./config/&#34; + ptype + &#34;_locations.yaml&#34;]

    # these map the linking flags and library paths to the appropriate plugin library
    scanbit_plugins = dict()
    scanbit_incs = dict()
    scanbit_libs = dict()
    scanbit_links = dict()
    scanbit_reqs = dict()
    scanbit_auto_libs = dict()
    scanbit_auto_incs = dict()
    scanbit_link_libs = dict()
    scanbit_lib_hints = dict()
    scanbit_inc_files = dict()
    scanbit_flags = dict()
    scanbit_cxx_flags = dict()
    #scanbit_static_links = dict()

    ## begin adding scannerbit files to CMakeLists.txt ##
    scanbit_srcs = [ name for name in os.listdir(&#34;./ScannerBit/src&#34;) if os.path.isfile(&#39;./ScannerBit/src/&#39; + name) if name.endswith(&#34;.cpp&#34;) or name.endswith(&#34;.c&#34;) or name.endswith(&#34;.cc&#34;) or name.endswith(&#34;.cxx&#34;) ]
    scanbit_hdrs = [ name for name in os.listdir(&#34;./ScannerBit/include/gambit/ScannerBit&#34;) if os.path.isfile(&#39;./ScannerBit/include/gambit/ScannerBit/&#39; + name) if name.endswith(&#34;.hpp&#34;) or name.endswith(&#34;.h&#34;) ]
    prior_srcs = []
    prior_hdrs = []

    if os.path.exists(&#34;./ScannerBit/src/priors&#34;):
                 prior_srcs = [ root + &#34;/&#34; + f for root,dirs,files in os.walk(&#34;./ScannerBit/src/priors&#34;) for f in files if f.endswith(&#34;.cpp&#34;) or f.endswith(&#34;.c&#34;) or f.endswith(&#34;.cc&#34;) or f.endswith(&#34;.cxx&#34;) ]
    if os.path.exists(&#34;./ScannerBit/include/gambit/ScannerBit/priors&#34;):
                 prior_hdrs = [ root + &#34;/&#34; + f for root,dirs,files in os.walk(&#34;./ScannerBit/include/gambit/ScannerBit/priors&#34;) for f in files if f.endswith(&#34;.hpp&#34;) or f.endswith(&#34;.h&#34;) ]

    prior_txt_out = &#34;#ifndef PRIOR_LIST_HPP\n#define PRIOR_LIST_HPP\n\n&#34;

    cmakelist_txt_out = &#34;set( scannerbit_sources\n&#34;
    for source in sorted(scanbit_srcs):
        cmakelist_txt_out += &#34; &#34;*16 + &#34;src/&#34; + source + &#34;\n&#34;
    for source in sorted(prior_srcs):
        cmakelist_txt_out += &#34; &#34;*16 + &#34;src/&#34; + source.split(&#39;/ScannerBit/src/&#39;)[1] + &#34;\n&#34;
    cmakelist_txt_out += &#34;)\n\n&#34;

    cmakelist_txt_out += &#34;set( scannerbit_headers\n&#34;
    for header in sorted(scanbit_hdrs):
        cmakelist_txt_out += &#34; &#34;*16 + &#34;include/gambit/ScannerBit/&#34; + header + &#34;\n&#34;
    for header in sorted(prior_hdrs):
        cmakelist_txt_out += &#34; &#34;*16 + &#34;include/gambit/ScannerBit/&#34; + header.split(&#39;/ScannerBit/include/gambit/ScannerBit/&#39;)[1] + &#34;\n&#34;
        prior_txt_out += &#34;#include \&#34;&#34; + &#34;gambit/ScannerBit/&#34; + header.split(&#39;/ScannerBit/include/gambit/ScannerBit/&#39;)[1] + &#34;\&#34;\n&#34;
    cmakelist_txt_out += &#34;)\n\nadd_gambit_library( ScannerBit OPTION OBJECT SOURCES ${scannerbit_sources} HEADERS ${scannerbit_headers} )\n\n&#34;

    prior_txt_out += &#34;\n#endif\n&#34;
    ## end adding scannerbit files to CMakeLists.txt ##

    ## begin adding scanlibs to CMakeLists.txt ##
    scan_helper_srcs = []
    scan_helper_hdrs = []

    if os.path.exists(&#34;./ScannerBit/src/scanlibs&#34;):
                 scan_helper_srcs = [ root + &#34;/&#34; + f for root,dirs,files in os.walk(&#34;./ScannerBit/src/scanlibs&#34;) for f in files if f.endswith(&#34;.cpp&#34;) or f.endswith(&#34;.c&#34;) or f.endswith(&#34;.cc&#34;) or f.endswith(&#34;.cxx&#34;) ]

    if os.path.exists(&#34;./ScannerBit/include/gambit/ScannerBit/scanlibs&#34;):
                 scan_helper_hdrs = [ root + &#34;/&#34; + f for root,dirs,files in os.walk(&#34;./ScannerBit/include/gambit/ScannerBit/scanlibs&#34;) for f in files if f.endswith(&#34;.hpp&#34;) or f.endswith(&#34;.h&#34;) ]

    cmakelist_txt_out += &#34;set( scanner_scanlibs_sources\n&#34;
    for source in sorted(scan_helper_srcs):
        cmakelist_txt_out += &#34; &#34;*16 + &#34;src/&#34; + source.split(&#39;/ScannerBit/src/&#39;)[1] + &#34;\n&#34;
    cmakelist_txt_out += &#34;)\n\n&#34;

    cmakelist_txt_out += &#34;set( scanner_scanlibs_headers\n&#34;
    for header in sorted(scan_helper_hdrs):
        cmakelist_txt_out += &#34; &#34;*16 + &#34;include/gambit/ScannerBit/&#34; + header.split(&#39;/ScannerBit/include/gambit/ScannerBit/&#39;)[1] + &#34;\n&#34;
    cmakelist_txt_out += &#34;)\n\n&#34;
    ## end adding scanlibs to CMakeLists.txt ##

    # loop through the different plugin types
    for i in range(len(plug_type)):
        scanbit_plugins[plug_type[i]] = dict()
        scanbit_incs[plug_type[i]] = dict()
        scanbit_libs[plug_type[i]] = dict()
        scanbit_links[plug_type[i]] = dict()
        scanbit_reqs[plug_type[i]] = dict()
        scanbit_auto_libs[plug_type[i]] = dict()
        scanbit_auto_incs[plug_type[i]] = dict()
        scanbit_link_libs[plug_type[i]] = dict()
        scanbit_lib_hints[plug_type[i]] = dict()
        scanbit_inc_files[plug_type[i]] = dict()
        scanbit_flags[plug_type[i]] = dict()
        scanbit_cxx_flags[plug_type[i]] = dict()
        #scanbit_static_links[plug_type[i]] = dict()

    # loop through the different plugin types
    for i in range(len(plug_type)):
        scanbit_plugins[plug_type[i]] = dict()
        #scanbit_static_links[plug_type[i]] = dict()
        directories = [ name for name in os.listdir(src_paths[i]) if os.path.isdir(src_paths[i] + &#34;/&#34; + name) ]

        for directory in sorted(directories):
            scanbit_plugins[plug_type[i]][directory] = []
            exclude_list = []
            cmakelist_txt_out_tmp = &#34;&#34;
            # Find all source files in the ScannerBit scanner and test_function plugin directories
            sources = [ root + &#34;/&#34; + f for root,dirs,files in os.walk(src_paths[i] + &#34;/&#34; + directory) for f in files if f.endswith(&#34;.cpp&#34;) or f.endswith(&#34;.c&#34;) or f.endswith(&#34;.cc&#34;) or f.endswith(&#34;.cxx&#34;) ]
            headers = []
            if os.path.exists(inc_paths[i] + &#34;/&#34; + directory):
                 headers = [ root + &#34;/&#34; + f for root,dirs,files in os.walk(inc_paths[i] + &#34;/&#34; + directory) for f in files if f.endswith(&#34;.hpp&#34;) or f.endswith(&#34;.h&#34;) ]

            # Work through the source files to find all plugins that need external linkage
            for source in sorted(sources):
                with open(source) as f:
                    last_plugin = &#34;&#34;
                    last_version= &#34;&#34;
                    last_plugin_file=[]
                    processed = False
                    if verbose: print(&#34;  Scanning source file {0} for ScannerBit plugin declarations.&#34;.format(source))
                    text = comment_remover(f.read())
                    it = re.finditer(r&#39;\breqd_inifile_entries\s*?\(.*?\)|\bREQD_INIFILE_ENTRIES\s*?\(.*?\)&#39;, text, re.DOTALL)
                    ini_finds = [[m.span()[0], -1, re.sub(r&#39;\s&#39;, &#39;&#39;, m.group())] for m in it]
                    it = re.finditer(r&#39;\bobjective_plugin\s*?\(.*?\)\s*?\{|\bOBJECTIVE_PLUGIN\s*?\(.*?\)\s*?\{&#39;, text, re.DOTALL)
                    obj_finds = [[m.span()[0], 0, m.group()] for m in it]
                    it = re.finditer(r&#39;\bscanner_plugin\s*?\(.*?\)\s*?\{|\bSCANNER_PLUGIN\s*?\(.*?\)\s*?\{&#39;, text, re.DOTALL)
                    scan_finds = [[m.span()[0], 1, m.group()] for m in it]
                    it = re.finditer(r&#39;\breqd_libraries\s*?\(.*?\)|\bREQD_LIBRARIES\s*?\(.*?\)&#39;, text, re.DOTALL)
                    lib_finds = [[m.span()[0], -2, re.sub(r&#39;\s&#39;, &#39;&#39;, m.group())] for m in it]
                    it = re.finditer(r&#39;\breqd_headers\s*?\(.*?\)|\bREQD_HEADERS\s*?\(.*?\)&#39;, text, re.DOTALL)
                    inc_finds = [[m.span()[0], -3, re.sub(r&#39;\s&#39;, &#39;&#39;, m.group())] for m in it]
                    it = re.finditer(r&#39;\bset_flag\s*?\(.*?\)|\bSET_FLAG\s*?\(.*?\)&#39;, text, re.DOTALL)
                    flag_finds = [[m.span()[0], -4, re.sub(r&#39;\s&#39;, &#39;&#39;, m.group())] for m in it]
                    it = re.finditer(r&#39;\bcxx_flags\s*?\(.*?\)|\bCXX_FLAGS\s*?\(.*?\)&#39;, text, re.DOTALL)
                    cxx_finds = [[m.span()[0], -5, re.sub(r&#39;\s|&#34;&#39;, &#39;&#39;, m.group())] for m in it]
                    all_finds  = sorted(scan_finds + obj_finds + ini_finds + lib_finds + inc_finds + flag_finds + cxx_finds)
                    for find in all_finds:
                        if find[1] &gt;= 0:
                            processed = False
                            splitline = neatsplit(r&#39;\(|\)|,|\s|\{&#39;,find[2])
                            if len(splitline) != 0:
                                plugin_name = splitline[1]
                                mod_version = [&#34;0&#34;,&#34;0&#34;,&#34;0&#34;,&#34;&#34;]
                                plugin_type = plug_type[find[1]];
                                if splitline[2] == &#34;version&#34;: mod_version[0:len(splitline[3:])] = splitline[3:]
                                token = plugin_name+&#34;__t__&#34;+plugin_type+&#34;__v__&#34;+&#34;_&#34;.join([x for x in mod_version])
                                status = &#34;ok&#34;
                                for x in exclude_plugins:
                                    if (plugin_name+&#34;_&#34;+&#34;_&#34;.join([y for y in mod_version])).startswith(x):
                                        status = &#34;excluded&#34;

                                last_plugin_file=[plugin_name, plugin_type, mod_version, status, token, [], directory, plug_type[i]]
                                scanbit_plugins[plug_type[i]][directory] += [last_plugin_file]

                                last_plugin = plugin_name

                                last_version = mod_version[0]
                                if mod_version[1] != &#34;&#34;: last_version += &#34;.&#34; + mod_version[1]
                                if mod_version[2] != &#34;&#34;: last_version += &#34;.&#34; + mod_version[2]
                                if mod_version[3] != &#34;&#34;: last_version += &#34;-&#34; + mod_version[3]

                        elif find[1] == -1:
                            if not last_plugin in scanbit_reqs[plug_type[i]]:
                                scanbit_reqs[plug_type[i]][last_plugin] = dict()
                            if last_version in scanbit_reqs[plug_type[i]][last_plugin]:
                                if scanbit_reqs[plug_type[i]][last_plugin][last_version][0] == &#34;&#34;:
                                    scanbit_reqs[plug_type[i]][last_plugin][last_version][0] = find[2][21:-1]
                                else:
                                    scanbit_reqs[plug_type[i]][last_plugin][last_version][0] += &#34;,&#34; + find[2][21:-1]
                            else:
                                scanbit_reqs[plug_type[i]][last_plugin][last_version] = [find[2][21:-1], &#34;&#34;, &#34;&#34;, [], [], [], []]

                        elif find[1] == -2:
                            if not directory in scanbit_auto_libs[plug_type[i]]:
                                scanbit_auto_libs[plug_type[i]][directory] = neatsplit(&#39;,|\&#34;&#39;, find[2][15:-1])
                            else:
                                scanbit_auto_libs[plug_type[i]][directory] += neatsplit(&#39;,|\&#34;&#39;, find[2][15:-1])

                            if not last_plugin in scanbit_reqs[plug_type[i]]:
                                scanbit_reqs[plug_type[i]][last_plugin] = dict()
                            if last_version in scanbit_reqs[plug_type[i]][last_plugin]:
                                if scanbit_reqs[plug_type[i]][last_plugin][last_version][1] == &#34;&#34;:
                                    scanbit_reqs[plug_type[i]][last_plugin][last_version][1] = find[2][15:-1]
                                else:
                                    scanbit_reqs[plug_type[i]][last_plugin][last_version][1] += &#34;,&#34; + find[2][15:-1]
                            else:
                                scanbit_reqs[plug_type[i]][last_plugin][last_version] = [&#34;&#34;, find[2][15:-1], &#34;&#34;, [], [], [], []]

                            if (not processed) and (last_plugin_file[3] != &#34;excluded&#34;):
                                last_plugin_file[3] = &#34;link_needed&#34;
                                processed = True
                                plugins += [last_plugin_file]

                        elif find[1] == -3:
                            if not directory in scanbit_auto_incs[plug_type[i]]:
                                scanbit_auto_incs[plug_type[i]][directory] = neatsplit(&#39;,|\&#34;&#39;, find[2][13:-1])
                            else:
                                scanbit_auto_incs[plug_type[i]][directory] += neatsplit(&#39;,|\&#34;&#39;, find[2][13:-1])

                            if not last_plugin in scanbit_reqs[plug_type[i]]:
                                scanbit_reqs[plug_type[i]][last_plugin] = dict()
                            if last_version in scanbit_reqs[plug_type[i]][last_plugin]:
                                if scanbit_reqs[plug_type[i]][last_plugin][last_version][2] == &#34;&#34;:
                                    scanbit_reqs[plug_type[i]][last_plugin][last_version][2] = find[2][13:-1]
                                else:
                                    scanbit_reqs[plug_type[i]][last_plugin][last_version][2] += &#34;,&#34; + find[2][13:-1]
                            else:
                                scanbit_reqs[plug_type[i]][last_plugin][last_version] = [&#34;&#34;, &#34;&#34;, find[2][13:-1], [], [], [], []]

                            if (not processed) and (last_plugin_file[3] != &#34;excluded&#34;):
                                processed = True
                                plugins += [last_plugin_file]

                        elif find[1] == -4:
                            flags = neatsplit(&#34;,&#34;, find[2][9:-1]);
                            if len(flags) &gt; 0:
                                if not last_plugin in scanbit_flags[plug_type[i]]:
                                    scanbit_flags[plug_type[i]][last_plugin] = dict()
                                if not last_version in scanbit_flags[plug_type[i]][last_plugin]:
                                    scanbit_flags[plug_type[i]][last_plugin][last_version] = dict()
                                    scanbit_flags[plug_type[i]][last_plugin][last_version][flags[0]] = []
                                scanbit_flags[plug_type[i]][last_plugin][last_version][flags[0]] += flags[1:]

                        elif find[1] == -5:
                            flags = neatsplit(&#34;,&#34;, find[2][10:-1]);
                            if len(flags) &gt; 0:
                                if not directory in scanbit_cxx_flags[plug_type[i]]:
                                    scanbit_cxx_flags[plug_type[i]][directory] = []
                                scanbit_cxx_flags[plug_type[i]][directory] += flags

                # Add plugin source files to CMakeLists.txt.  Only add those for non-excluded plugins.
                # bjf&gt; added &#34;!=[]&#34; to the conditional due to error during cmake. Hope it makes sense.
                if(last_plugin_file!=[] and last_plugin_file[3] == &#34;excluded&#34;):
                    exclude_list += [last_plugin_file[0]+&#34; &#34;+&#34;.&#34;.join([y for y in last_plugin_file[2] if y != &#34;&#34;])]
                else:
                    cmakelist_txt_out_tmp += &#34; &#34;*16 + &#34;src/&#34; + source.split(&#39;/ScannerBit/src/&#39;)[1] + &#34;\n&#34;

            # Add entries for this plugin only if there are non-excluded sources found.
            if (cmakelist_txt_out_tmp != &#34;&#34;):
              # First do the sources
              cmakelist_txt_out = cmakelist_txt_out+&#34;set( &#34; + plug_type[i] + &#34;_plugin_sources_&#34; + directory + &#34;\n&#34; + cmakelist_txt_out_tmp + &#34;)\n\n&#34;
              # Now do the headers
              cmakelist_txt_out += &#34;set( &#34; + plug_type[i] + &#34;_plugin_headers_&#34; + directory + &#34;\n&#34;
              for header in sorted(headers):
                  cmakelist_txt_out += &#34; &#34;*16 + &#34;include/gambit/ScannerBit/&#34; + header.split(&#39;/ScannerBit/include/gambit/ScannerBit/&#39;)[1] + &#34;\n&#34;
              cmakelist_txt_out += &#34;)\n\n&#34;
            # Otherwise notify that the plugin is ditched.
            else:
              for x in exclude_list:
                cmakelist_txt_out += &#34;message(\&#34;${BoldCyan} X Excluding &#34; + x + &#34; from ScannerBit configuration.${ColourReset}\&#34;)\n\n&#34;

    # Loop over all plugin types
    for config_file, plugin_type in zip(config_files, plug_type):

        # Check for the user-defined version of the location file.
        location_files = []
        if os.path.isfile(config_file):
            location_files += [config_file]

        # Now make sure the default version of the locations yaml file is present.
        if not os.path.isfile(config_file+&#34;.default&#34;):
            print(&#34;ERROR: &#34;+config_file+&#34;.default not found!&#34;)
            sys.exit(2)
        location_files += [config_file+&#34;.default&#34;]

        # Loop over all the plugins of this type
        for plugin in plugins:

            plugin_name = plugin[0]
            inc_commands = []
            auto_libs = []
            auto_incs = []
            linkcommands = &#34;&#34;
            linklibs = []
            #staticlinkcommands = &#34;&#34;
            linkdirs = []
            linkhints = []
            inc_files = []
            detected_plugins = [(&#34;none&#34;,&#34;none&#34;)]

            # Loop over the found yaml location files
            for current_location_file in location_files:

                # Load the locations yaml file, and work out which libs are present
                yaml_loader = yaml.full_load if hasattr(yaml, &#39;full_load&#39;) else yaml.load
                yaml_file = yaml_loader(open(current_location_file))

                if yaml_file:
                    if plugin_name in yaml_file and plugin[1] == plugin_type:
                        version_bits = plugin[2]
                        maj_version = int(&#34;.&#34;.join([x for x in version_bits[0:1]]))
                        min_version = float(&#34;.&#34;.join([x for x in version_bits[0:2]]))
                        pat_version = &#34;.&#34;.join([x for x in version_bits[0:3]])
                        ful_version = &#34;-&#34;.join([pat_version, version_bits[3]])
                        version = &#34;.&#34;.join([x for x in version_bits[0:3]])
                        if (version_bits[3] != &#34;&#34;):
                            version = &#34;-&#34;.join([version, version_bits[3]])
                        ini_version = &#34;&#34;
                        if ful_version in yaml_file[plugin_name]:
                            ini_version = ful_version
                        elif pat_version in yaml_file[plugin_name]:
                            ini_version = pat_version
                        elif min_version in yaml_file[plugin_name]:
                            ini_version = min_version
                        elif maj_version in yaml_file[plugin_name]:
                            ini_version = maj_version
                        elif &#34;any_version&#34; in yaml_file[plugin_name]:
                            ini_version = &#34;any_version&#34;

                        if ini_version != &#34;&#34; and (plugin_name, ini_version) not in detected_plugins:
                            detected_plugins += [(plugin_name, ini_version)]
                            options_list = yaml_file[plugin_name][ini_version]
                            if type(options_list) is dict: #not list:
                                options_list = [options_list,]
                            for f in options_list:
                                if type(f) is dict:
                                    for key, value in f.items():
                                        if key in (&#34;lib&#34;, &#34;libs&#34;, &#34;library&#34;, &#34;libraries&#34;, &#34;library_path&#34;, &#34;library_paths&#34;, &#34;-lib&#34;, &#34;-libs&#34;, &#34;-library&#34;, &#34;-libraries&#34;, &#34;-library_path&#34;, &#34;-library_paths&#34;):
                                            libs = neatsplit(&#39;,|\s|;&#39;, value)
                                            for lib in libs:
                                                if os.path.isfile(lib):
                                                    lib_full = os.path.abspath(lib)
                                                    print(&#34;   Found library {0} needed for ScannerBit plugin {1} v{2}&#34;.format(lib,plugin_name,version))
                                                    if lib_full.endswith(&#34;.a&#34;):
                                                        static_links += lib_full + &#34; &#34;
                                                        [libdir, lib] = os.path.split(lib_full)
                                                        lib = re.sub(r&#34;^lib|\..*$&#34;,&#34;&#34;,lib)
                                                        #staticlinkcommands += &#34;-L&#34; + libdir + &#34; -l&#34; + lib + &#34; &#34;
                                                    else:
                                                        [libdir, lib] = os.path.split(lib_full)
                                                        lib = re.sub(r&#34;^lib|\..*$&#34;,&#34;&#34;,lib)
                                                        linkcommands += &#34;-L&#34; + libdir + &#34; -l&#34; + lib + &#34; &#34;
                                                        linkdirs += [libdir]

                                                    linklibs += [[lib, lib_full]]
                                                    scanbit_reqs[plugin[7]][plugin_name][version][3] += [lib]
                                                elif os.path.isdir(lib):
                                                    lib = os.path.abspath(lib)
                                                    print(&#34;   Found library path {0} needed for ScannerBit plugin {1} v{2}&#34;.format(lib,plugin_name,version))
                                                    linkhints += [lib]
                                                elif lib == &#34;ROOT&#34; or lib == &#34;GSL&#34;:
                                                    auto_libs += [lib]
                                                    #scanbit_reqs[plugin[7]][plugin_name][version][3] += [lib]
                                                    if scanbit_reqs[plugin[7]][plugin_name][version][1] == &#34;&#34;:
                                                        scanbit_reqs[plugin[7]][plugin_name][version][1] = &#34;\&#34;&#34; + lib + &#34;\&#34;&#34;
                                                    else:
                                                        scanbit_reqs[plugin[7]][plugin_name][version][1] += &#34;,\&#34;&#34; + lib + &#34;\&#34;&#34;
                                                else:
                                                    [libdir, lib] = os.path.split(lib)
                                                    #lib = re.sub(&#34;^lib|\..*$&#34;,&#34;&#34;,lib)
                                                    lib = &#34;\&#34;&#34; + lib + &#34;\&#34;&#34;
                                                    scanbit_reqs[plugin[7]][plugin_name][version][4] += [lib]

                                        elif key in (&#34;inc&#34;, &#34;incs&#34;, &#34;include&#34;, &#34;includes&#34;, &#34;include_path&#34;, &#34;include_paths&#34;, &#34;-inc&#34;, &#34;-incs&#34;, &#34;-include&#34;, &#34;-includes&#34;, &#34;-include_path&#34;, &#34;-include_paths&#34;, &#34;hdr&#34;, &#34;hdrs&#34;, &#34;header&#34;, &#34;headers&#34;, &#34;-hdr&#34;, &#34;-hdrs&#34;, &#34;-header&#34;, &#34;-headers&#34;):
                                            incs = neatsplit(&#39;,|\s|;&#39;, value)
                                            for inc in incs:
                                                if os.path.isdir(inc):
                                                    inc = os.path.abspath(inc)
                                                    print(&#34;   Found include path {0} needed for ScannerBit plugin {1} v{2}&#34;.format(inc,plugin_name,version))
                                                    inc_commands += [inc]
                                                    scanbit_reqs[plugin[7]][plugin_name][version][5] += [inc]
                                                elif os.path.isfile(inc):
                                                    inc = os.path.abspath(inc)
                                                    print(&#34;   Found include file {0} needed for ScannerBit plugin {1} v{2}&#34;.format(inc,plugin_name,version))
                                                    [incdir, inc] = os.path.split(inc)
                                                    inc_commands += [incdir]
                                                    scanbit_reqs[plugin[7]][plugin_name][version][5] += [incdir]
                                                    inc_files += [[inc, incdir]]
                                                elif inc == &#34;ROOT&#34; or inc == &#34;GSL&#34;:
                                                    auto_incs += [inc]
                                                    #scanbit_reqs[plugin[7]][plugin_name][version][5] += [inc]
                                                    if scanbit_reqs[plugin[7]][plugin_name][version][2] == &#34;&#34;:
                                                        scanbit_reqs[plugin[7]][plugin_name][version][2] = &#34;\&#34;&#34; + inc + &#34;\&#34;&#34;
                                                    else:
                                                        scanbit_reqs[plugin[7]][plugin_name][version][2] += &#34;,\&#34;&#34; + inc + &#34;\&#34;&#34;
                                                else:
                                                    plugin[3] = &#34;missing&#34;
                                                    scanbit_reqs[plugin[7]][plugin_name][version][6] += [inc]
                                        else:
                                            print(&#34;   Unknown infile option \&#34;{0}\&#34; needed for ScannerBit plugin {1} v{2}&#34;.format(key,plugin_name,version))
                                else:
                                    print(&#34;   Unknown YAML format in file {0}.&#34;.format(currrent_location_file))

                            # add links commands to map (keys: {plug_type, directory}) to be linked to later
                            #if staticlinkcommands != &#34;&#34;:
                            #    if plugin[6] in scanbit_static_links[plugin[7]]:
                            #        scanbit_static_links[plugin[7]][plugin[6]] += staticlinkcommands
                            #    else:
                            #        scanbit_static_links[plugin[7]][plugin[6]] = staticlinkcommands
                            if inc_commands != []:
                                if plugin[6] in scanbit_incs[plugin[7]]:
                                    scanbit_incs[plugin[7]][plugin[6]] += inc_commands
                                else:
                                    scanbit_incs[plugin[7]][plugin[6]] = inc_commands
                            if linkcommands != &#34;&#34;:
                                if plugin[6] in scanbit_links[plugin[7]]:
                                    scanbit_links[plugin[7]][plugin[6]] += linkcommands
                                else:
                                    scanbit_links[plugin[7]][plugin[6]] = linkcommands
                            if linkdirs != []:
                                if plugin[6] in scanbit_libs[plugin[7]]:
                                    scanbit_libs[plugin[7]][plugin[6]] += linkdirs
                                else:
                                    scanbit_libs[plugin[7]][plugin[6]] = linkdirs
                            if auto_libs != []:
                                if plugin[6] in scanbit_auto_libs[plugin[7]]:
                                    scanbit_auto_libs[plugin[7]][plugin[6]] += auto_libs
                                else:
                                    scanbit_auto_libs[plugin[7]][plugin[6]] = auto_libs
                            if auto_incs != []:
                                if plugin[6] in scanbit_auto_incs[plugin[7]]:
                                    scanbit_auto_incs[plugin[7]][plugin[6]] += auto_incs
                                else:
                                    scanbit_auto_incs[plugin[7]][plugin[6]] = auto_incs
                            if linklibs != []:
                                if plugin[6] in scanbit_link_libs[plugin[7]]:
                                    scanbit_link_libs[plugin[7]][plugin[6]] += linklibs
                                else:
                                    scanbit_link_libs[plugin[7]][plugin[6]] = linklibs
                            if linkhints != []:
                                if plugin[6] in scanbit_lib_hints[plugin[7]]:
                                    scanbit_lib_hints[plugin[7]][plugin[6]] += linkhints
                                else:
                                    scanbit_lib_hints[plugin[7]][plugin[6]] = linkhints
                            if inc_files != []:
                                if plugin[6] in scanbit_inc_files[plugin[7]]:
                                    scanbit_inc_files[plugin[7]][plugin[6]] += inc_files
                                else:
                                    scanbit_inc_files[plugin[7]][plugin[6]] = inc_files

    # Make a candidate priors_rollcall.hpp file
    towrite = &#34;\
// GAMBIT: Global and Modular BSM Inference Tool  \n\
//************************************************\n\
/// \\file                                        \n\
///                                               \n\
///  Priors rollcall file for ScannerBit.         \n\
///                                               \n\
///  This file has been automatically generated by\n\
///  scanner+_harvester.py.  Please do not modify.\n\
///                                               \n\
///***********************************************\n\
///                                               \n\
///  Authors:                                     \n\
///                                               \n\
///  \\author The GAMBIT Collaboration            \n\
///  \\date &#34;+datetime.datetime.now().strftime(&#34;%I:%M%p on %B %d, %Y&#34;)+&#34;\n\
///                                               \n\
///***********************************************\n\n&#34;

    towrite += prior_txt_out

    header = &#34;./ScannerBit/include/gambit/ScannerBit/priors_rollcall.hpp&#34;
    candidate = build_dir+&#34;/priors_rollcall.hpp.candidate&#34;
    with open(candidate,&#34;w&#34;) as f: f.write(towrite)
    update_only_if_different(header, candidate)

    if verbose: print(&#34;Finished writing ScannerBit/include/gambit/ScannerBit/priors_rollcall.hpp&#34;)

    # Make a candidate ScannerBit CMakelists.txt file

    library_names = []

    towrite = &#34;&#34;&#34;\
# GAMBIT: Global and Modular BSM Inference Tool
#************************************************
# \\file
#
#  Cmake CMakeLists.txt file for ScannerBit.
#
#  This file has been automatically generated by
#  scanner+_harvester.py.  Please do not modify.
#
#************************************************
#
#  Authors:
#
#  \\author The GAMBIT Collaboration
#  \\date &#34;&#34;&#34;+datetime.datetime.now().strftime(&#34;%I:%M%p on %B %d, %Y&#34;)+&#34;&#34;&#34;
#
#************************************************\n&#34;&#34;&#34;
    towrite += cmakelist_txt_out
    towrite += &#34;&#34;&#34;\
# Add the ScannerBit linking flag utility
add_executable(scanlibs ${scanner_scanlibs_sources} ${scanner_scanlibs_headers})
if(${CMAKE_VERSION} VERSION_GREATER 2.8.10)
  target_include_directories(scanlibs PUBLIC ${PROJECT_SOURCE_DIR}/cmake/include)
else()
  include_directories(${PROJECT_SOURCE_DIR}/cmake/include)
endif()
add_dependencies(scanlibs yaml-cpp)
target_link_libraries(scanlibs yaml-cpp)
set_target_properties(scanlibs PROPERTIES RUNTIME_OUTPUT_DIRECTORY \&#34;${PROJECT_SOURCE_DIR}/ScannerBit/bin\&#34;)

# Specify known plugin include paths
set( PLUGIN_INCLUDE_DIRECTORIES
                ${PROJECT_BINARY_DIR}
                ${PROJECT_BINARY_DIR}/cmake
                ${GAMBIT_INCDIRS}
                ${mkpath_INCLUDE_DIR}
                ${yaml_INCLUDE_DIR}
                ${Boost_INCLUDE_DIR}
                ${GSL_INCLUDE_DIRS}
                ${ROOT_INCLUDE_DIR}
                ${ROOT_INCLUDE_DIRS}
                ${PROJECT_SOURCE_DIR}/ScannerBit/include/gambit/ScannerBit
)\n
if( ${PLUG_VERBOSE} )
    message(\&#34;*** begin PLUG_INCLUDE_DIRECTORIES ***\&#34;)
    foreach(dir ${PLUGIN_INCLUDE_DIRECTORIES})
        message(STATUS \&#34;dir=&#39;${dir}&#39;\&#34;)
    endforeach()
    message(\&#34;*** end PLUG_INCLUDE_DIRECTORIES ***\&#34;)
endif()

set( reqd_lib_output )
set( exclude_lib_output )
set( PLUGIN_COMPILE_FLAGS \&#34;${BACKEND_CXX_FLAGS}\&#34;)\n
if(MPI_C_FOUND)
    set( PLUGIN_COMPILE_FLAGS \&#34;${PLUGIN_COMPILE_FLAGS} ${MPI_C_COMPILE_FLAGS}\&#34; )
    set( PLUGIN_COMPILE_DIRECTORIES
                ${PLUGIN_COMPILE_DIRECTORIES}
                ${MPI_C_COMPILE_PATH}
    )
    set( PLUGIN_INCLUDE_DIRECTORIES
                ${PLUGIN_INCLUDE_DIRECTORIES}
                ${MPI_C_INCLUDE_PATH}
    )
endif()\n
if(MPI_CXX_FOUND)
    set( PLUGIN_COMPILE_FLAGS \&#34;${PLUGIN_COMPILE_FLAGS} ${MPI_CXX_COMPILE_FLAGS}\&#34; )
    set( PLUGIN_COMPILE_DIRECTORIES
                ${PLUGIN_COMPILE_DIRECTORIES}
                ${MPI_CXX_COMPILE_PATH}
    )
    set( PLUGIN_INCLUDE_DIRECTORIES
                ${PLUGIN_INCLUDE_DIRECTORIES}
                ${MPI_CXX_INCLUDE_PATH}
    )
endif()
&#34;&#34;&#34;


    # now link the shared libraries to their respective plugin libraries
    for i in range(len(plug_type)):
        directories = [ name for name in os.listdir(src_paths[i]) if os.path.isdir(src_paths[i] + &#34;/&#34; + name) ]
        for directory in sorted(directories):
            library_names.append(&#34;lib&#34; + plug_type[i] + &#34;_&#34; + directory + &#34;.so&#34;)

            towrite += &#34;#################### lib&#34; + plug_type[i] + &#34;_&#34; + directory + &#34;.so ####################\n\n&#34;

            towrite += &#34;set (&#34; + plug_type[i] + &#34;_ok_flag_&#34; + directory + &#34; \&#34;\&#34;)\n\n&#34;
            towrite += &#34;set (&#34; + plug_type[i] + &#34;_compile_flags_&#34; + directory + &#34; \&#34;${PLUGIN_COMPILE_FLAGS}&#34;
            if plug_type[i] in scanbit_cxx_flags:
                if directory in scanbit_cxx_flags[plug_type[i]]:
                    towrite += &#34; &#34;
                    towrite += &#34; &#34;.join(scanbit_cxx_flags[plug_type[i]][directory])
            towrite += &#34;\&#34;)\n\n&#34;

            for plug in scanbit_plugins[plug_type[i]][directory]:
                if plug[3] == &#34;excluded&#34;:
                    towrite += &#34;set (&#34; + plug_type[i] + &#34;_ok_flag_&#34; + directory + &#34; \&#34;\\n    - user excluded plugin: \\\&#34;&#34; + plug[4].split(&#34;__t__&#34;)[0] + &#34;\\\&#34;\&#34;)\n&#34;
                    if verbose: print(&#34;excluding &#34;, plug[4])
                
            towrite += &#34;set (&#34; + plug_type[i] + &#34;_plugin_libraries_&#34; + directory + &#34;\n&#34;
            if plug_type[i] in scanbit_libs:
                if directory in scanbit_libs[plug_type[i]]:
                    towrite += &#34; &#34;*16 + &#34;\&#34;&#34; + scanbit_links[plug_type[i]][directory] + &#34;\&#34;\n&#34;
            towrite += &#34;)\n\n&#34;

            towrite += &#34;set (&#34; + plug_type[i] + &#34;_plugin_lib_paths_&#34; + directory + &#34;\n&#34;
            if plug_type[i] in scanbit_lib_hints:
                if directory in scanbit_lib_hints[plug_type[i]]:
                    for lib in scanbit_lib_hints[plug_type[i]][directory]:
                        towrite += &#34; &#34;*16 + lib + &#34;\n&#34;
            towrite += &#34;)\n\n&#34;

            towrite += &#34;set (&#34; + plug_type[i] + &#34;_plugin_rpath_&#34; + directory + &#34;\n&#34;
            if plug_type[i] in scanbit_libs:
                if directory in scanbit_libs[plug_type[i]]:
                    unique_libdirs = set(p for p in scanbit_libs[plug_type[i]][directory])
                    if unique_libdirs:
                        for libdir in unique_libdirs:
                            towrite += &#34; &#34;*16 + libdir +&#34;\n&#34;
            towrite += &#34;)\n\n&#34;

            towrite += &#34;set (&#34; + plug_type[i] + &#34;_plugin_includes_&#34; + directory + &#34;\n&#34;
            towrite += &#34; &#34;*16 + &#34;${PLUGIN_INCLUDE_DIRECTORIES}\n&#34;
            towrite += &#34; &#34;*16 + &#34;${CMAKE_CURRENT_SOURCE_DIR}/include/gambit/ScannerBit/&#34; + plug_type[i] + &#34;s/&#34; + directory + &#34;\n&#34;
            if plug_type[i] in scanbit_incs:
                if directory in scanbit_incs[plug_type[i]]:
                    for inc in scanbit_incs[plug_type[i]][directory]:
                        towrite += &#34; &#34;*16 + inc + &#34;\n&#34;
            towrite += &#34;)\n\n&#34;

            towrite += &#34;set (&#34; + plug_type[i] + &#34;_plugin_linked_libs_&#34; + directory + &#34; \&#34;\&#34;)\n&#34;
            if plug_type[i] in scanbit_link_libs:
                if directory in scanbit_link_libs[plug_type[i]]:
                    for lib in scanbit_link_libs[plug_type[i]][directory]:
                        towrite += &#34;set (&#34; + plug_type[i] + &#34;_plugin_linked_libs_&#34; + directory + &#34; \&#34;${&#34; + plug_type[i] + &#34;_plugin_linked_libs_&#34; + directory + &#34;}&#34;
                        towrite += &#34;    &#34; + lib[0] + &#34;: &#34; + lib[1] + &#34;\\n\&#34;)\n&#34;
            towrite += &#34;\n&#34;
            towrite += &#34;set (&#34; + plug_type[i] + &#34;_plugin_lib_full_paths_&#34; + directory + &#34;\n&#34;
            if plug_type[i] in scanbit_link_libs:
                if directory in scanbit_link_libs[plug_type[i]]:
                    for lib in scanbit_link_libs[plug_type[i]][directory]:
                        towrite += &#34; &#34;*16 + lib[1] + &#34;\n&#34;
            towrite += &#34;)\n\n&#34;

            towrite += &#34;set (&#34; + plug_type[i] + &#34;_plugin_found_incs_&#34; + directory + &#34; \&#34;\&#34;)\n&#34;
            if plug_type[i] in scanbit_incs:
                if directory in scanbit_incs[plug_type[i]]:
                    for inc in scanbit_incs[plug_type[i]][directory]:
                        towrite += &#34;set (&#34; + plug_type[i] + &#34;_plugin_found_incs_&#34; + directory + &#34; \&#34;${&#34; + plug_type[i] + &#34;_plugin_found_incs_&#34; + directory + &#34;}&#34;
                        towrite += &#34;    \\\&#34;&#34; + plug_type[i] + &#34;_locations.yaml\\\&#34;: &#34; + inc + &#34;\\n\&#34;)\n&#34;
            if plug_type[i] in scanbit_inc_files:
                if directory in scanbit_inc_files[plug_type[i]]:
                    for inc in scanbit_inc_files[plug_type[i]][directory]:
                        towrite += &#34;set (&#34; + plug_type[i] + &#34;_plugin_found_incs_&#34; + directory + &#34; \&#34;${&#34; + plug_type[i] + &#34;_plugin_found_incs_&#34; + directory + &#34;}&#34;
                        towrite += &#34;    \\\&#34;&#34; + inc[0] + &#34;\\\&#34;: &#34; + inc[1] + &#34;\\n\&#34;)\n&#34;

            towrite += &#34;\n&#34;

            if plug_type[i] in scanbit_auto_libs:
                if directory in scanbit_auto_libs[plug_type[i]]:
                    if plug_type[i] in scanbit_link_libs:
                        if directory in scanbit_link_libs[plug_type[i]]:
                            temp = [p[0] for p in scanbit_link_libs[plug_type[i]][directory]]
                            scanbit_auto_libs[plug_type[i]][directory] = set(lib for lib in scanbit_auto_libs[plug_type[i]][directory] if not lib in temp);

                    temp = set(lib for lib in scanbit_auto_libs[plug_type[i]][directory])
                    for lib in temp:
                        if lib == &#34;ROOT&#34;:
                            towrite += &#34;if (&#34; + lib + &#34;_FOUND)\n&#34;
                            towrite += &#34; &#34;*4 + &#34;foreach (&#34; + lib + &#34;_LIB ${&#34; + lib + &#34;_LIBRARIES})\n&#34;
                            towrite += &#34; &#34;*8 + &#34;get_filename_component(lib_path ${&#34; + lib + &#34;_LIB} PATH)\n&#34;
                            towrite += &#34; &#34;*8 + &#34;get_filename_component(lib_name ${&#34; + lib + &#34;_LIB} NAME_WE)\n&#34;
                            towrite += &#34; &#34;*8 + &#34;string (REGEX REPLACE \&#34;^lib\&#34; \&#34;\&#34; lib_name ${lib_name})\n&#34;
                            towrite += &#34; &#34;*8 + &#34;set (&#34; + plug_type[i] + &#34;_plugin_libraries_&#34; + directory
                            towrite += &#34; \&#34;${&#34; + plug_type[i] + &#34;_plugin_libraries_&#34; + directory + &#34;}&#34;
                            towrite += &#34; -L${lib_path} -l${lib_name}\&#34;)\n&#34;
                            towrite += &#34; &#34;*8 + &#34;set (&#34; + plug_type[i] + &#34;_plugin_lib_full_paths_&#34; + directory
                            towrite += &#34; ${&#34; + plug_type[i] + &#34;_plugin_lib_full_paths_&#34; + directory + &#34;}&#34;
                            towrite += &#34; ${&#34; + lib + &#34;_LIBRARIES})\n&#34;
                            towrite += &#34; &#34;*8 + &#34;set (&#34; + plug_type[i] + &#34;_plugin_linked_libs_&#34; + directory
                            towrite += &#34; \&#34;${&#34; + plug_type[i] + &#34;_plugin_linked_libs_&#34; + directory +&#34;}    &#34; + lib + &#34;: ${&#34; + lib + &#34;_LIB}\\n\&#34;)\n&#34;
                            towrite += &#34; &#34;*4 + &#34;endforeach()\n&#34;
                            towrite += &#34; &#34;*4 + &#34;set (&#34; + plug_type[i] + &#34;_plugin_rpath_&#34; + directory
                            towrite += &#34; \&#34;${&#34; + plug_type[i] + &#34;_plugin_rpath_&#34; + directory + &#34;};${&#34; + lib + &#34;_LIBRARY_DIR}\&#34;)\n&#34;
                            towrite += &#34;endif()\n\n&#34;
                        else:
                            lib_name = plug_type[i] + &#34;_&#34; + directory + &#34;_&#34; + lib + &#34;_LIBRARY&#34;
                            towrite += &#34;unset(&#34; + lib_name + &#34; CACHE)\n&#34;
                            towrite += &#34;find_library( &#34; + lib_name + &#34; &#34; + lib + &#34; HINTS ${&#34; + plug_type[i] + &#34;_plugin_lib_paths_&#34; + directory + &#34;} )\n&#34;
                            towrite += &#34;if( &#34; + lib_name + &#34; STREQUAL \&#34;&#34; + lib_name + &#34;-NOTFOUND\&#34; )\n&#34;
                            towrite += &#34;    message(\&#34;-- Did not find &#34;+ plug_type[i] + &#34; library &#34; + lib + &#34; for &#34; + directory + &#34;. Disabling scanners that depend on this.\&#34;)\n&#34;
                            # next line will exclude plugins if no lib found.  Note that if you un-comment this line
                            # all plugins plugins defined in this library will be excluded.
                            # towrite += &#34;    set (&#34; + plug_type[i] + &#34;_ok_flag_&#34; + directory + &#34; \&#34;${&#34; + plug_type[i] + &#34;_ok_flag_&#34; + directory + &#34;} \\n    - library missing: \\\&#34;lib&#34; + lib + &#34;.so\\\&#34;\&#34;)\n&#34;
                            towrite += &#34;else()\n&#34;
                            towrite += &#34; &#34;*4 + &#34;get_filename_component(lib_path ${&#34; + lib_name + &#34;} PATH)\n&#34;
                            towrite += &#34; &#34;*4 + &#34;get_filename_component(lib_name ${&#34; + lib_name + &#34;} NAME_WE)\n&#34;
                            towrite += &#34; &#34;*4 + &#34;string (REGEX REPLACE \&#34;^lib\&#34; \&#34;\&#34; lib_name ${lib_name})\n&#34;
                            towrite += &#34; &#34;*4 + &#34;set (&#34; + plug_type[i] + &#34;_plugin_libraries_&#34; + directory
                            towrite += &#34; \&#34;${&#34; + plug_type[i] + &#34;_plugin_libraries_&#34; + directory + &#34;}&#34;
                            towrite += &#34; -L${lib_path} -l${lib_name}\&#34;)\n&#34;
                            towrite += &#34; &#34;*8 + &#34;set (&#34; + plug_type[i] + &#34;_plugin_lib_full_paths_&#34; + directory
                            towrite += &#34; ${&#34; + plug_type[i] + &#34;_plugin_lib_full_paths_&#34; + directory + &#34;}&#34;
                            towrite += &#34; ${&#34; + lib_name + &#34;})\n&#34;
                            towrite += &#34; &#34;*4 + &#34;set (&#34; + plug_type[i] + &#34;_plugin_rpath_&#34; + directory
                            towrite += &#34; \&#34;${&#34; + plug_type[i] + &#34;_plugin_rpath_&#34; + directory + &#34;};${lib_path}\&#34;)\n&#34;
                            towrite += &#34; &#34;*4 + &#34;set (&#34; + plug_type[i] + &#34;_plugin_linked_libs_&#34; + directory
                            towrite += &#34; \&#34;${&#34; + plug_type[i] + &#34;_plugin_linked_libs_&#34; + directory +&#34;}    &#34; + lib + &#34;: ${&#34; + lib_name + &#34;}\\n\&#34;)\n&#34;
                            towrite += &#34;    message(\&#34;-- Found &#34;+ plug_type[i] + &#34; library: ${&#34; + lib_name + &#34;}\&#34;)\n&#34;
                            towrite += &#34;endif()\n\n&#34;

            if plug_type[i] in scanbit_auto_incs:
                if directory in scanbit_auto_incs[plug_type[i]]:
                    if plug_type[i] in scanbit_inc_files:
                        if directory in scanbit_inc_files[plug_type[i]]:
                            temp = [p[0] for p in scanbit_inc_files[plug_type[i]][directory]]
                            scanbit_auto_incs[plug_type[i]][directory] = set(inc for inc in scanbit_auto_incs[plug_type[i]][directory] if not inc in temp);

                    temp = set(inc for inc in scanbit_auto_incs[plug_type[i]][directory])
                    for inc in temp:
                        if inc == &#34;ROOT&#34;:
                            towrite += &#34;if (&#34; + inc + &#34;_FOUND)\n&#34;
                            towrite += &#34; &#34;*4 + &#34;set (&#34; + plug_type[i] + &#34;_plugin_includes_&#34; + directory + &#34;\n&#34;
                            towrite += &#34; &#34;*8 + &#34;${&#34; + plug_type[i] + &#34;_plugin_includes_&#34; + directory + &#34;}\n&#34;
                            towrite += &#34; &#34;*8 + &#34;${ROOT_INCLUDE_DIRS}\n&#34;
                            towrite += &#34; &#34;*4 + &#34;)\n&#34;
                            towrite += &#34; &#34;*4 + &#34;set (&#34; + plug_type[i] + &#34;_plugin_found_incs_&#34; + directory
                            towrite += &#34; \&#34;${&#34; +  plug_type[i] + &#34;_plugin_found_incs_&#34; + directory + &#34;}&#34;
                            towrite += &#34;    \\\&#34;&#34; + inc + &#34;\\\&#34;: ${ROOT_INCLUDE_DIRS}\\n\&#34;)\n&#34;
                            towrite += &#34;endif()\n\n&#34;
                        else:
                            inc_name = plug_type[i] + &#34;_&#34; + directory + &#34;_&#34; + re.sub(r&#34;;|/|\.&#34;, &#34;_&#34;, inc) + &#34;_INCLUDE_PATH&#34;
                            towrite += &#34;unset(&#34; + inc_name + &#34; CACHE)\n&#34;
                            towrite += &#34;find_path( &#34; + inc_name + &#34; \&#34;&#34; + inc + &#34;\&#34; HINTS ${&#34; + plug_type[i] + &#34;_plugin_includes_&#34; + directory + &#34;})\n&#34;
                            towrite += &#34;if( NOT &#34; + inc_name + &#34; STREQUAL \&#34;&#34; + inc_name + &#34;-NOTFOUND\&#34; )\n&#34;
                            towrite += &#34; &#34;*4 + &#34;set (&#34; + plug_type[i] + &#34;_plugin_includes_&#34; + directory + &#34;\n&#34;
                            towrite += &#34; &#34;*8 + &#34;${&#34; + plug_type[i] + &#34;_plugin_includes_&#34; + directory + &#34;}\n&#34;
                            towrite += &#34; &#34;*8 + &#34;${&#34; + inc_name + &#34;}\n&#34;
                            towrite += &#34; &#34;*4 + &#34;)\n&#34;
                            towrite += &#34; &#34;*4 + &#34;set (&#34; + plug_type[i] + &#34;_plugin_found_incs_&#34; + directory
                            towrite += &#34; \&#34;${&#34; +  plug_type[i] + &#34;_plugin_found_incs_&#34; + directory + &#34;}&#34;
                            towrite += &#34;    \\\&#34;&#34; + inc + &#34;\\\&#34;: ${&#34; + inc_name + &#34;}\\n\&#34;)\n&#34;
                            towrite += &#34;    message(\&#34;-- Found &#34; + plug_type[i] + &#34; header: ${&#34; + inc_name + &#34;}/&#34; + inc + &#34;\&#34;)\n&#34;
                            towrite += &#34;else()\n&#34;
                            towrite += &#34;    message(\&#34;-- Did not find &#34;+ plug_type[i] + &#34; header &#34; + inc + &#34;. Disabling scanners that depend on this.\&#34;)\n&#34;
                            towrite += &#34;    set (&#34; + plug_type[i] + &#34;_ok_flag_&#34; + directory + &#34; \&#34;${&#34; + plug_type[i] + &#34;_ok_flag_&#34; + directory + &#34;} \\n    - file missing: \\\&#34;&#34; + inc + &#34;\\\&#34;\&#34;)\n&#34;
                            towrite += &#34;endif()\n\n&#34;
            towrite += &#34;if( NOT ${&#34; + plug_type[i] + &#34;_plugin_linked_libs_&#34; + directory + &#34;} STREQUAL \&#34;\&#34; OR NOT ${&#34; + plug_type[i] + &#34;_plugin_found_incs_&#34; + directory + &#34;} STREQUAL \&#34;\&#34;)\n&#34;
            towrite += &#34; &#34;*4 + &#34;set ( reqd_lib_output \&#34;${reqd_lib_output}lib&#34; + plug_type[i] + &#34;_&#34; + directory + &#34;.so:\\n\&#34; )\n&#34;
            towrite += &#34; &#34;*4 + &#34;if( NOT ${&#34; + plug_type[i] + &#34;_plugin_linked_libs_&#34; + directory + &#34;} STREQUAL \&#34;\&#34; )\n&#34;
            towrite += &#34; &#34;*8 + &#34;set ( reqd_lib_output \&#34;${reqd_lib_output}  linked_libs: \\n${&#34; + plug_type[i] + &#34;_plugin_linked_libs_&#34; + directory + &#34;}\&#34;)\n&#34;
            towrite += &#34; &#34;*4 + &#34;endif()\n&#34;
            towrite += &#34; &#34;*4 + &#34;if( NOT ${&#34; + plug_type[i] + &#34;_plugin_found_incs_&#34; + directory + &#34;} STREQUAL \&#34;\&#34; )\n&#34;
            towrite += &#34; &#34;*8 + &#34;set ( reqd_lib_output \&#34;${reqd_lib_output}  found_incs: \\n${&#34; + plug_type[i] + &#34;_plugin_found_incs_&#34; + directory + &#34;}\&#34;)\n&#34;
            towrite += &#34; &#34;*4 + &#34;endif()\n&#34;
            towrite += &#34;endif()\n\n&#34;

            towrite += &#34;if ( &#34; + plug_type[i] + &#34;_ok_flag_&#34; + directory + &#34; STREQUAL \&#34;\&#34; )\n&#34;
            towrite += &#34; &#34;*4 + &#34;add_gambit_library( &#34; + plug_type[i] + &#34;_&#34; + directory + &#34; VISIBLE OPTION SHARED SOURCES ${&#34;
            towrite += plug_type[i] + &#34;_plugin_sources_&#34; + directory + &#34;} HEADERS ${&#34;
            towrite += plug_type[i] + &#34;_plugin_headers_&#34; + directory + &#34;} )\n&#34;
            towrite += &#34; &#34;*4 + &#34;set_target_properties( &#34; + plug_type[i] + &#34;_&#34; + directory + &#34;\n&#34; + &#34; &#34;*23 + &#34;PROPERTIES\n&#34;
            towrite += &#34; &#34;*23 + &#34;INSTALL_RPATH \&#34;${&#34; + plug_type[i] + &#34;_plugin_rpath_&#34; + directory + &#34;}\&#34;\n&#34;;
            towrite += &#34; &#34;*23 + &#34;COMPILE_FLAGS \&#34;${&#34; + plug_type[i] + &#34;_compile_flags_&#34; + directory + &#34;}\&#34;\n&#34;
            towrite += &#34; &#34;*23 + &#34;INCLUDE_DIRECTORIES \&#34;${&#34; + plug_type[i] + &#34;_plugin_includes_&#34; + directory + &#34;}\&#34;\n&#34;
            towrite += &#34; &#34;*23 + &#34;ARCHIVE_OUTPUT_DIRECTORY \&#34;${CMAKE_CURRENT_SOURCE_DIR}/lib\&#34;\n&#34;
            towrite += &#34; &#34;*23 + &#34;LIBRARY_OUTPUT_DIRECTORY \&#34;${CMAKE_CURRENT_SOURCE_DIR}/lib\&#34;)\n&#34;
            towrite += &#34; &#34;*4 + &#34;target_link_libraries( &#34; + plug_type[i] + &#34;_&#34; + directory + &#34; ${&#34; + plug_type[i] + &#34;_plugin_lib_full_paths_&#34; + directory + &#34;})\n&#34;
            #towrite += &#34;target_include_directories( &#34; + inc_dirs &#34;)\n\n&#34;
            #towrite += &#34; &#34;*4 + &#34;add_dependencies(gambit &#34; + plug_type[i] + &#34;_&#34; + directory + &#34;)\n&#34;
            towrite += &#34; &#34;*4 + &#34;set (SCANNERBIT_PLUGINS &#34; + &#34; ${SCANNERBIT_PLUGINS} &#34; + plug_type[i] + &#34;_&#34; + directory + &#34;)\n&#34;
            towrite += &#34;else()\n&#34;
            towrite += &#34; &#34;*4 + &#34;set ( exclude_lib_output \&#34;${exclude_lib_output}lib&#34; + plug_type[i] + &#34;_&#34; + directory + &#34;.so:\\n&#34;
            towrite += &#34;  plugins:\\n&#34;
            for plug in scanbit_plugins[plug_type[i]][directory]:
                towrite += &#34;    - &#34; + plug[4] + &#34;\\n&#34;
            towrite += &#34;  reason: ${&#34; + plug_type[i] + &#34;_ok_flag_&#34; + directory + &#34;}\\n\\n\&#34; )\n&#34;
            towrite += &#34;endif()\n\n&#34;

    towrite += &#34;set(SCANNERBIT_PLUGINS ${SCANNERBIT_PLUGINS} PARENT_SCOPE)\n&#34;
    towrite += &#34;file( WRITE ${PROJECT_SOURCE_DIR}/scratch/build_time/scanbit_excluded_libs.yaml \&#34;${exclude_lib_output}\&#34; )\n&#34;
    towrite += &#34;file( WRITE ${PROJECT_SOURCE_DIR}/scratch/build_time/scanbit_linked_libs.yaml \&#34;${reqd_lib_output}\&#34; )\n\n&#34;

    towrite += &#34;#################################################################################\n\n&#34;
    towrite += &#34;foreach (plugin ${SCANNERBIT_PLUGINS})\n&#34;
    towrite += &#34; &#34;*4 + &#34;add_dependencies(ScannerBit ${plugin})\n&#34;
    towrite += &#34;endforeach()\n&#34;

    cmake = &#34;./ScannerBit/CMakeLists.txt&#34;
    candidate = build_dir+&#34;/ScannerBit_CMakeLists.txt.candidate&#34;
    with open(candidate,&#34;w&#34;) as f: f.write(towrite)
    update_only_if_different(cmake, candidate)

    towrite = &#34;\n&#34;.join(library_names)
    cmake = &#34;./ScannerBit/lib/plugin_libraries.list&#34;
    candidate = build_dir+&#34;/ScannerBit_lib_plugin_libraries.list.candidate&#34;
    with open(candidate,&#34;w&#34;) as f: f.write(towrite)
    update_only_if_different(cmake, candidate)

    if verbose: print(&#34;Finished writing ScannerBit/CMakeLists.txt&#34;)

    # Make a candidate scanbit_reqd_entries.yaml file
    towrite = &#34;\
# GAMBIT: Global and Modular BSM Inference Tool  \n\
#************************************************\n\
# \\file                                         \n\
#                                                \n\
#  Scanner required arguments for GAMBIT.        \n\
#                                                \n\
#  This file has been automatically generated by \n\
#  scanner+_harvester.py.  Please do not modify. \n\
#                                                \n\
#************************************************\n\
#                                                \n\
#  Authors:                                      \n\
#                                                \n\
#  \\author The GAMBIT Collaboration             \n\
#  \\date &#34;+datetime.datetime.now().strftime(&#34;%I:%M%p on %B %d, %Y&#34;)+&#34;\n\
#                                                \n\
#************************************************\n\n&#34;

    for type_key in scanbit_reqs:
        towrite += type_key + &#34;:\n&#34;
        for plug_key in scanbit_reqs[type_key]:
            towrite += &#34; &#34;*2 + plug_key + &#34;:\n&#34;
            for version_key in scanbit_reqs[type_key][plug_key]:
                towrite += &#34; &#34;*4 + version_key + &#34;:\n&#34;
                #if scanbit_reqs[type_key][plug_key][version_key][0] != &#34;&#34;:
                towrite += &#34; &#34;*6 + &#34;reqd_inifile_entries: [&#34; + scanbit_reqs[type_key][plug_key][version_key][0] + &#34;]\n&#34;
                #if scanbit_reqs[type_key][plug_key][version_key][1] != &#34;&#34;:
                towrite += &#34; &#34;*6 + &#34;reqd_libraries: [&#34; + scanbit_reqs[type_key][plug_key][version_key][1] + &#34;]\n&#34;
                towrite += &#34; &#34;*6 + &#34;reqd_include_paths: [&#34; + scanbit_reqs[type_key][plug_key][version_key][2] + &#34;]\n&#34;
                towrite += &#34; &#34;*6 + &#34;linked_libraries: [&#34; + &#34;,&#34;.join(scanbit_reqs[type_key][plug_key][version_key][3]) + &#34;]\n&#34;
                towrite += &#34; &#34;*6 + &#34;not_linked_libraries: [&#34; + &#34;,&#34;.join(scanbit_reqs[type_key][plug_key][version_key][4]) + &#34;]\n&#34;
                towrite += &#34; &#34;*6 + &#34;found_include_paths: [&#34; + &#34;,&#34;.join(scanbit_reqs[type_key][plug_key][version_key][5]) + &#34;]\n&#34;
                towrite += &#34; &#34;*6 + &#34;not_found_include_paths: [&#34; + &#34;,&#34;.join(scanbit_reqs[type_key][plug_key][version_key][6]) + &#34;]\n&#34;
        towrite += &#34;\n&#34;

    req_entries = &#34;./scratch/build_time/scanbit_reqd_entries.yaml&#34;
    candidate = build_dir+&#34;/scanbit_reqd_entries.yaml.candidate&#34;
    with open(candidate,&#34;w&#34;) as f: f.write(towrite)
    update_only_if_different(req_entries, candidate)

    if verbose: print(&#34;Finished writing scratch/build_time/scanbit_reqd_entries.yaml&#34;)

    # Make a candidate scanbit_reqd_entries.yaml file
    towrite = &#34;\
# GAMBIT: Global and Modular BSM Inference Tool  \n\
#************************************************\n\
# \\file                                         \n\
#                                                \n\
#  Scanner flags for GAMBIT.                     \n\
#                                                \n\
#  This file has been automatically generated by \n\
#  scanner+_harvester.py.  Please do not modify. \n\
#                                                \n\
#************************************************\n\
#                                                \n\
#  Authors:                                      \n\
#                                                \n\
#  \\author The GAMBIT Collaboration             \n\
#  \\date &#34;+datetime.datetime.now().strftime(&#34;%I:%M%p on %B %d, %Y&#34;)+&#34;\n\
#                                                \n\
#************************************************\n\n&#34;

    for type_key in scanbit_flags:
        towrite += type_key + &#34;:\n&#34;
        for plug_key in scanbit_flags[type_key]:
            towrite += &#34; &#34;*2 + plug_key + &#34;:\n&#34;
            for version_key in scanbit_flags[type_key][plug_key]:
                towrite += &#34; &#34;*4 + version_key + &#34;:\n&#34;
                for flag in scanbit_flags[type_key][plug_key][version_key]:
                    if len(scanbit_flags[type_key][plug_key][version_key][flag]) &gt; 1:
                        towrite += &#34; &#34;*6 + flag + &#34;: [&#34; + &#34;, &#34;.join(scanbit_flags[type_key][plug_key][version_key][flag]) + &#34;]\n&#34;
                    else:
                        towrite += &#34; &#34;*6 + flag + &#34;: &#34; + scanbit_flags[type_key][plug_key][version_key][flag][0] + &#34;\n&#34;
        towrite += &#34;\n&#34;

    flag_entries = &#34;./scratch/build_time/scanbit_flags.yaml&#34;
    candidate = build_dir+&#34;/scanbit_flags.yaml.candidate&#34;
    with open(candidate,&#34;w&#34;) as f: f.write(towrite)
    update_only_if_different(flag_entries, candidate)

    if verbose: print(&#34;Finished writing scratch/build_time/scanbit_flags.yaml&#34;)

    # Make a candidate linkedout.cmake file
    towrite = &#34;\
# GAMBIT: Global and Modular BSM Inference Tool  \n\
#************************************************\n\
# \\file                                         \n\
#                                                \n\
#  Cmake linking and rpath commands for GAMBIT.  \n\
#                                                \n\
#  This file has been automatically generated by \n\
#  scanner+_harvester.py.  Please do not modify. \n\
#                                                \n\
#************************************************\n\
#                                                \n\
#  Authors:                                      \n\
#                                                \n\
#  \\author The GAMBIT Collaboration             \n\
#  \\date &#34;+datetime.datetime.now().strftime(&#34;%I:%M%p on %B %d, %Y&#34;)+&#34;\n\
#                                                \n\
#************************************************\n\
                                                 \n\
if (${CMAKE_SYSTEM_NAME} MATCHES \&#34;Darwin\&#34;)     \n&#34;

    if static_links != &#34;&#34;:
        towrite += &#34; &#34;*4 + &#34;foreach(program ${uses_scannerbit})\n&#34;
        towrite += &#34; &#34;*8 + &#34;target_link_libraries( ${program} -Wl,-force_load &#34; + static_links + &#34;)\n&#34;
        towrite += &#34; &#34;*4 + &#34;endforeach()\n&#34;
    towrite += &#34;else()\n&#34;
    if static_links != &#34;&#34;:
        towrite += &#34; &#34;*4 + &#34;foreach(program ${uses_scannerbit})\n&#34;
        towrite += &#34; &#34;*8 + &#34;target_link_libraries( ${program} -Wl,--whole-archive &#34; + static_links + &#34; -Wl,--no-whole-archive )\n&#34;
        towrite += &#34; &#34;*4 + &#34;endforeach()\n&#34;
    towrite += &#34;endif()\n&#34;

    linked_out = build_dir+&#34;/linkedout.cmake&#34;
    candidate = linked_out+&#34;.candidate&#34;
    with open(candidate,&#34;w&#34;) as f: f.write(towrite)
    update_only_if_different(linked_out, candidate)

    if verbose: print(&#34;Finished writing linkedout.cmake&#34;)

# Handle command line arguments (verbosity)
if __name__ == &#34;__main__&#34;:
   main(sys.argv[1:])
</code></pre><hr/><p>Updated on 2022-08-10 at 17:51:35 +0000</p></main></div></div></div><footer class="footer text-muted"><div class="container-xxl"><div class="row"><div class="col-lg-8 order-last order-lg-first"><ul class="list-inline"><li class="list-inline-item">Powered by <a class="text-muted" href="https://gohugo.io/">Hugo</a> and <a class="text-muted" href="https://getdoks.org/">Doks</a></li></ul></div><div class="col-lg-8 order-first order-lg-last text-lg-end"><ul class="list-inline"><li class="list-inline-item"><a href="/license/">License</a></li></ul></div></div></div></footer><script src="/js/bootstrap.min.54bf0932b8a36d0e152b1635b099a6ef1394d35327e2437550a075c9c8ed1bd8aed5847c21b36fc02ed24014c031d9ca24017b0c78b1639d7e2fa8329898b842.js" integrity="sha512-VL8JMrijbQ4VKxY1sJmm7xOU01Mn4kN1UKB1ycjtG9iu1YR8IbNvwC7SQBTAMdnKJAF7DHixY51+L6gymJi4Qg==" crossorigin="anonymous" defer=""></script>
<script src="/js/highlight.min.5b48bc253dc75aeea5fb366ecf700f4925e2b6eb1a1466f2124b722d68148d67bc0a9365d2b8ad9c585161b46372d23b08509a16f1fd518542b894756d4752d0.js" integrity="sha512-W0i8JT3HWu6l+zZuz3APSSXitusaFGbyEktyLWgUjWe8CpNl0ritnFhRYbRjctI7CFCaFvH9UYVCuJR1bUdS0A==" crossorigin="anonymous" defer=""></script>
<script src="/main.min.40265e9a032aeba5eaf67baac3cbbc22667a7533215d326eeb3e9f4d5e4be40f9ff4dcd22949db73ae527ca26a19d7998091a8973c82af760b2c0daa335190ed.js" integrity="sha512-QCZemgMq66Xq9nuqw8u8ImZ6dTMhXTJu6z6fTV5L5A+f9NzSKUnbc65SfKJqGdeZgJGolzyCr3YLLA2qM1GQ7Q==" crossorigin="anonymous" defer=""></script>
<script src="https://gambitbsm.github.io/index.min.1e0f859443ac81a8b8c357ddfae5d899d83ab224e24e44c1c9620a99f2a527d70a1676148a868f87f22fb67994386d592e508dafb575df7c2b80d97f143ad1ea.js" integrity="sha512-Hg+FlEOsgai4w1fd+uXYmdg6siTiTkTByWIKmfKlJ9cKFnYUioaPh/IvtnmUOG1ZLlCNr7V133wrgNl/FDrR6g==" crossorigin="anonymous" defer=""></script></body></html>